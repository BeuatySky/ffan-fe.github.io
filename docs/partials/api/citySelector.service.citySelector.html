<a href="https://github.com/{{repo}}/blob/{{sha}}/{{file}}#L{{codeline}}" class="view-source"><i class="icon-eye-open"> </i>View source</a><h1><code ng:non-bindable="">citySelector</code>
<div><span class="hint">service in module <code ng:non-bindable="">citySelector</code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="cityselector-service-page cityselector-service-cityselector-page"><p>城市选择组件, 统一从接口<a href="/Database/coupon_component/selectCity">/Database/coupon_component/selectCity</a>
弹窗部分统一使用的是angular ui bootstrap 中的 uibModal</p>
<p><strong>Methods</strong></p>
<ul>
<li><p><code>open(config)</code> - 此方法会以弹窗的形式打开城市选择的弹窗. 会返回<code>Promise</code>, 其中<code>resolve</code>表明用户点击了确认按钮, 这里会返回所有选择城市的id; <code>reject</code>表明用户点击了取消或关闭按钮</p>
<p> 参数<code>config</code>是可选的, 可用值是</p>
<ul>
<li>isReadOnly:   Boolean   - 表示是否只读, 常见于详情页等场景</li>
<li>checkedList:  Array     - 表示回填字段, 里面包含是城市id</li>
<li>database:     Array     - 外部提供渲染UI的数据, 注意格式请保持一致, 格式请参照上述<code>Datebase</code>接口</li>
</ul>
</li>
</ul>
</div></div>
<h2 id="example">Example</h2>
<div class="example"><div class="cityselector-service-page cityselector-service-cityselector-page"><pre class="prettyprint linenums">

constructor(citySelector) {
  'ngInject';
  this.citySelector = citySelector;
}
showCitySelector() {
     this.citySelector.open({checkedList: [310100, 310200, 371700]}).then(
       idList =&gt; {
         console.log('idList', idList);
       }
     );
   }

</pre>
</div></div>
</div>
