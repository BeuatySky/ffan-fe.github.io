webpackJsonp([16],{509:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var i=e(510),o=n(i);exports.default=angular.module("chart",[]).component("chart",o.default)},510:function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var i=e(511),o=n(i),a=e(512),r=n(a);e(572),exports.default={restrict:"E",bindings:{},template:o.default,controller:r.default,controllerAs:"vm"}},511:function(t,exports){t.exports="<section class=\"intro-content\">\n\t<h1>图表</h1>\n\t<h2>饼图</h2>\n</section>\n\n<div class=\"example-block\">\n<div class=\"bs-example\">\n\t<div class=\"col-md-4 echarts-container\">\n\t\t<ng-echarts class=\"echarts\" ec-config=\"vm.pieConfig\" ec-option=\"vm.pieOption\" ></ng-echarts>\n\t</div>\n</div>\n\n<div class=\"highlight\" hljs hljs-language=\"html\">\n<ng-echarts class=\"echarts\" ec-config=\"vm.pieConfig\" ec-option=\"vm.pieOption\" ></ng-echarts>\n</div>\n\n<div class=\"highlight\" hljs hljs-language=\"javascript\">\nlet self = this;\nself.pieConfig = {\n\ttheme: 'default',\n\tdataLoaded: true\n};\n\nself.pieOption = {\n\ttooltip: {\n\t\ttrigger: 'item',\n\t\tformatter: \"{a} <br/>{b} : {c} ({d}%)\"\n\t},\n\tlegend: {\n\t\torient: 'vertical',\n\t\tx: '65%',\n\t\ttop: '25%',\n\t\tdata: ['正常', '断开', '等待'],\n\t\tformatter: function (name) {\n\t\t\tvar oa = self.pieOption.series[0].data;\n\t\t\tfor (var i = 0; i < self.pieOption.series[0].data.length; i++) {\n\t\t\t\tif (name == oa[i].name) {\n\t\t\t\t\treturn name + ':' + oa[i].value + '个';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tcolor: ['#bdea75', '#fe5454', '#faba3c'],\n\tseries: [{\n\t\tname: '比例分析',\n\t\ttype: 'pie',\n\t\tradius: '55%',\n\t\tcenter: ['35%', '50%'],\n\t\tdata: [\n\t\t{\n\t\t\tvalue: '2',\n\t\t\tname: '正常'\n\t\t},\n\t\t{\n\t\t\tvalue: '2',\n\t\t\tname: '断开'\n\t\t},\n\t\t{\n\t\t\tvalue: '2',\n\t\t\tname: '等待'\n\t\t}],\n\t\titemStyle: {\n\t\t\tnormal: {\n\t\t\t\tlabel: {\n\t\t\t\t\tshow: false,\n\t\t\t\t\tformatter: '{b} : {c} ({d}%)'\n\t\t\t\t}\n\t\t\t},\n\t\t\tlabelLine: {\n\t\t\t\tshow: true\n\t\t\t}\n\t\t}\n\t}]\n};\n</div>\n</div>\n\n\n<section class=\"intro-content\">\n\t<h2>仪表盘</h2>\n</section>\n<div class=\"example-block\">\n<div class=\"bs-example\">\n\t<div class=\"col-md-4 echarts-container\">\n\t\t<ng-echarts class=\"echarts\" ec-config=\"vm.gaugeConfig\" ec-option=\"vm.gaugeOption\" ></ng-echarts>\n\t</div>\n</div>\n\n<div class=\"highlight\" hljs hljs-language=\"html\">\n<ng-echarts class=\"echarts\" ec-config=\"vm.gaugeConfig\" ec-option=\"vm.gaugeOption\" ></ng-echarts>\n</div>\n\n<div class=\"highlight\" hljs hljs-language=\"javascript\">\nthis.gaugeConfig = {\n\ttheme: 'default',\n\tdataLoaded: true\n};\nthis.gaugeOption = {\n\tseries: [{\n\t\tname: \"外层\",\n\t\tz: 3,\n\t\ttype: \"gauge\",\n\t\tstartAngle: 180, //总的360，设置180就是半圆\n\t\tendAngle: 0,\n\t\tcenter: [\"50%\", \"77%\"], //整体的位置设置\n\t\tradius: 80,\n\t\taxisLine: {\n\t\t\tlineStyle: {\n\t\t\t\twidth: 3, //柱子的宽度\n\t\t\t\tcolor: [[1, \"#1fbba6\"], [1, \"#dbdbdb\"]]\n\t\t\t}\n\t\t},\n\t\taxisTick: {\n\t\t\tshow: false\n\t\t},\n\t\taxisLabel: {\n\t\t\tshow: false\n\t\t},\n\t\tsplitLine: {\n\t\t\tshow: false\n\t\t},\n\t\tpointer: {\n\t\t\twidth: 0, //指针的宽度\n\t\t\tlength: \"80%\", //指针长度，按照半圆半径的百分比\n\t\t\tcolor: \"#2d99e2\"\n\t\t},\n\t\ttitle: {\n\t\tshow: false\n\t\t},\n\t\tdetail: {\n\t\tshow: false\n\t\t},\n\t\tdata: [{ //显示数据\n\t\t\tvalue: 100,\n\t\t\tname: \"100%\"\n\t\t}]\n\t},\n\t{\n\t\tname: \"内层\",\n\t\ttype: \"gauge\",\n\t\tstartAngle: 180, //总的360，设置180就是半圆\n\t\tendAngle: 0,\n\t\tcenter: [\"50%\", \"77%\"], //整体的位置设置\n\t\tradius: 75,\n\t\taxisLine: {\n\t\t\tlineStyle: {\n\t\t\twidth: 30, //柱子的宽度\n\t\t\tcolor: [[0.305, \"#1fbba6\"], [1, \"#dbdbdb\"]] //0.298是百分比的比例值（小数），还有对应两个颜色值\n\t\t\t}\n\t\t},\n\t\taxisTick: {\n\t\t\tshow: false\n\t\t},\n\t\taxisLabel: {\n\t\t\tshow: false\n\t\t},\n\t\tsplitLine: {\n\t\t\tshow: false\n\t\t},\n\t\tpointer: {\n\t\t\twidth: 0, //指针的宽度\n\t\t\tlength: \"80%\", //指针长度，按照半圆半径的百分比\n\t\t\tcolor: \"#2d99e2\"\n\t\t},\n\t\ttitle: {\n\t\t\tshow: true,\n\t\t\toffsetCenter: [0, '-10px'], //标题位置设置\n\t\t\ttextStyle: { //标题样式设置\n\t\t\tcolor: \"#1fbba6\",\n\t\t\tfontSize: 18,\n\t\t\tfontFamily: \"Arial\",\n\t\t\tfontWeight: \"normal\"\n\t\t}\n\t},\n\tdetail: {\n\t\tshow: false\n\t},\n\tdata: [{ //显示数据\n\t\tvalue: 30.50,\n\t\tname: \"30.50%\"\n\t}]\n}]\n};\n</div>\n</div>\n\n\n<section class=\"intro-content\">\n\t<h2>曲线图</h2>\n</section>\n\n<div class=\"example-block\">\n<div class=\"bs-example\">\n\t<div class=\"col-md-12 echarts-container\" style=\"height: 400px\">\n\t\t<ng-echarts class=\"echarts\" ec-config=\"vm.lineConfig\" ec-option=\"vm.lineOption\" ></ng-echarts>\n\t</div>\n</div>\n\n<div class=\"highlight\" hljs hljs-language=\"html\">\n<ng-echarts class=\"echarts\" ec-config=\"vm.lineConfig\" ec-option=\"vm.lineOption\" ></ng-echarts>\n</div>\n<div class=\"highlight\" hljs hljs-language=\"javascript\">\nlet self =  this;\nthis.lineConfig = {\n\ttheme: 'default',\n\tdataLoaded: true\n};\n\nthis.lineOption = {\n\ttitle: {\n\t\ttext: '内存使用情况',\n\t\tsubtext: 'pod memory usage',\n\t\ttextAlign: 'left',\n\t\tx: \"0\",\n\t\ttextStyle: {\n\t\t\tcolor: '#666',\n\t\t\tfontSize: '14'\n\t\t},\n\t\tsubtextStyle: {\n\t\t\tcolor: '#d6d6d6',\n\t\t\tfontSize: '12',\n\t\t\tdisplay: 'inline'\n\t\t}\n\t},\n\tgrid: {\n\t\tborderWidth: 0,\n\t\tborderColor: '#f2f2f2'\n\t},\n\tlegend: {\n\t\torient: 'horizontal',\n\t\ttop: '0',\n\t\tright: '0',\n\t\talign: 'left',\n\t\tdata: ['op-lodgings-sync', 'elasticsearch-logging']\n\t},\n\ttooltip: {\n\t\ttrigger: 'axis'\n\t},\n\txAxis: {\n\t\ttype: 'category',\n\t\tboundaryGap: false,\n\t\tdata: ['13:25', '13:30', '13:35', '13:40', '13:45', '13:50', '13:55', '14:00', '14:05', '14:10', '14:15', '14:20'],\n\t\tsplitLine: {\n\t\t\tshow: true,\n\t\t\tinterval: 'auto'\n\t\t}\n\t},\n\tyAxis: {\n\t\ttype: 'value',\n\t\taxisLabel: {\n\t\t\tformatter: '{value} GiB'\n\t\t}\n\t},\n\tcolor: ['#64b1e4', '#fa9073'],\n\tseries: [\n\t\t{\n\t\t\tname: 'op-lodgings-sync',\n\t\t\ttype: 'line',\n\t\t\tsmooth: false,\n\t\t\tdata: [1.1, 4.5, 3.4, 1.7, 3.8, 2.1, 4.5, 4.7, 5.1, 3.8, 5.5, 6.2]\n\t\t},\n\t\t{\n\t\t\tname: 'elasticsearch-logging',\n\t\t\ttype: 'line',\n\t\t\tsmooth: false,\n\t\t\tdata: [2.6, 3.7, 5.1, 8.2, 3.2, 6.1, 3.9, 4.5, 3.4, 1.7, 3.8, 2.1]\n\t\t}\n\t]\n};\n</div>\n</div>\n"},512:function(t,exports,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e(513),e(523),e(527),e(561),e(565),e(566);var o=function(){function t(){"ngInject";n(this,t),this.initPieChart(),this.initGaugeChart(),this.initLineChart()}return i(t,[{key:"initGaugeChart",value:function(){this.gaugeConfig={theme:"default",dataLoaded:!0},this.gaugeOption={series:[{name:"外层",z:3,type:"gauge",startAngle:180,endAngle:0,center:["50%","77%"],radius:80,axisLine:{lineStyle:{width:3,color:[[1,"#1fbba6"],[1,"#dbdbdb"]]}},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1},pointer:{width:0,length:"80%",color:"#2d99e2"},title:{show:!1},detail:{show:!1},data:[{value:100,name:"100%"}]},{name:"内层",type:"gauge",startAngle:180,endAngle:0,center:["50%","77%"],radius:75,axisLine:{lineStyle:{width:30,color:[[.305,"#1fbba6"],[1,"#dbdbdb"]]}},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1},pointer:{width:0,length:"80%",color:"#2d99e2"},title:{show:!0,offsetCenter:[0,"-10px"],textStyle:{color:"#1fbba6",fontSize:18,fontFamily:"Arial",fontWeight:"normal"}},detail:{show:!1},data:[{value:30.5,name:"30.50%"}]}]}}},{key:"initPieChart",value:function(){var t=this;t.pieConfig={theme:"default",dataLoaded:!0},t.pieOption={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",x:"65%",top:"25%",data:["正常","断开","等待"],formatter:function(e){for(var n=t.pieOption.series[0].data,i=0;i<t.pieOption.series[0].data.length;i++)if(e==n[i].name)return e+":"+n[i].value+"个"}},color:["#bdea75","#fe5454","#faba3c"],series:[{name:"比例分析",type:"pie",radius:"55%",center:["35%","50%"],data:[{value:"2",name:"正常"},{value:"2",name:"断开"},{value:"2",name:"等待"}],itemStyle:{normal:{label:{show:!1,formatter:"{b} : {c} ({d}%)"}},labelLine:{show:!0}}}]}}},{key:"initLineChart",value:function(){this.lineConfig={theme:"default",dataLoaded:!0},this.lineOption={title:{text:"内存使用情况",subtext:"pod memory usage",textAlign:"left",x:"0",textStyle:{color:"#666",fontSize:"14"},subtextStyle:{color:"#d6d6d6",fontSize:"12",display:"inline"}},grid:{borderWidth:0,borderColor:"#f2f2f2"},legend:{orient:"horizontal",top:"0",right:"0",align:"left",data:["op-lodgings-sync","elasticsearch-logging"]},tooltip:{trigger:"axis"},xAxis:{type:"category",boundaryGap:!1,data:["13:25","13:30","13:35","13:40","13:45","13:50","13:55","14:00","14:05","14:10","14:15","14:20"],splitLine:{show:!0,interval:"auto"}},yAxis:{type:"value",axisLabel:{formatter:"{value} GiB"}},color:["#64b1e4","#fa9073"],series:[{name:"op-lodgings-sync",type:"line",smooth:!1,data:[1.1,4.5,3.4,1.7,3.8,2.1,4.5,4.7,5.1,3.8,5.5,6.2]},{name:"elasticsearch-logging",type:"line",smooth:!1,data:[2.6,3.7,5.1,8.2,3.2,6.1,3.9,4.5,3.4,1.7,3.8,2.1]}]}}}]),t}();exports.default=o},513:function(t,exports,e){var n=e(125),i=e(122);e(514),e(517),e(518)("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),i.registerVisual(n.curry(e(519),"pie")),i.registerLayout(n.curry(e(520),"pie")),i.registerProcessor(n.curry(e(522),"pie"))},514:function(t,exports,e){"use strict";var n=e(218),i=e(125),o=e(126),a=e(515),r=e(516),s=e(122).extendSeriesModel({type:"series.pie",init:function(t){s.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed},this.updateSelectedMap(t.data),this._defaultLabelLine(t)},mergeOption:function(t){s.superCall(this,"mergeOption",t),this.updateSelectedMap(this.option.data)},getInitialData:function(t,e){var i=a(["value"],t.data),o=new n(i,this);return o.initData(t.data),o},getDataParams:function(t){var e=this._data,n=s.superCall(this,"getDataParams",t),i=e.getSum("value");return n.percent=i?+(e.get("value",t)/i*100).toFixed(2):0,n.$vars.push("percent"),n},_defaultLabelLine:function(t){o.defaultEmphasis(t.labelLine,["show"]);var e=t.labelLine.normal,n=t.labelLine.emphasis;e.show=e.show&&t.label.normal.show,n.show=n.show&&t.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,avoidLabelOverlap:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationEasing:"cubicOut",data:[]}});i.mixin(s,r),t.exports=s},515:function(t,exports,e){function n(t,e,n,r){if(!e)return t;var s=i(e[0]),l=o.isArray(s)&&s.length||1;n=n||[],r=r||"extra";for(var c=0;c<l;c++)if(!t[c]){var h=n[c]||r+(c-n.length);t[c]=a(e,c)?{type:"ordinal",name:h}:h}return t}function i(t){return o.isArray(t)?t:o.isObject(t)?t.value:t}var o=e(125),a=n.guessOrdinal=function(t,e){for(var n=0,a=t.length;n<a;n++){var r=i(t[n]);if(!o.isArray(r))return!1;var r=r[e];if(null!=r&&isFinite(r))return!1;if(o.isString(r)&&"-"!==r)return!0}return!1};t.exports=n},516:function(t,exports,e){var n=e(125);t.exports={updateSelectedMap:function(t){this._selectTargetMap=n.reduce(t||[],function(t,e){return t[e.name]=e,t},{})},select:function(t){var e=this._selectTargetMap,i=e[t],o=this.get("selectedMode");"single"===o&&n.each(e,function(t){t.selected=!1}),i&&(i.selected=!0)},unSelect:function(t){var e=this._selectTargetMap[t];e&&(e.selected=!1)},toggleSelected:function(t){var e=this._selectTargetMap[t];if(null!=e)return this[e.selected?"unSelect":"select"](t),e.selected},isSelected:function(t){var e=this._selectTargetMap[t];return e&&e.selected}}},517:function(t,exports,e){function n(t,e,n,o){var a=e.getData(),r=this.dataIndex,s=a.getName(r),l=e.get("selectedOffset");o.dispatchAction({type:"pieToggleSelect",from:t,name:s,seriesId:e.id}),a.each(function(t){i(a.getItemGraphicEl(t),a.getItemLayout(t),e.isSelected(a.getName(t)),l,n)})}function i(t,e,n,i,o){var a=(e.startAngle+e.endAngle)/2,r=Math.cos(a),s=Math.sin(a),l=n?i:0,c=[r*l,s*l];o?t.animate().when(200,{position:c}).start("bounceOut"):t.attr("position",c)}function o(t,e){function n(){a.ignore=a.hoverIgnore,s.ignore=s.hoverIgnore}function i(){a.ignore=a.normalIgnore,s.ignore=s.normalIgnore}r.Group.call(this);var o=new r.Sector({z2:2}),a=new r.Polyline,s=new r.Text;this.add(o),this.add(a),this.add(s),this.updateData(t,e,!0),this.on("emphasis",n).on("normal",i).on("mouseover",n).on("mouseout",i)}function a(t,e,n,i,o){var a=i.getModel("textStyle"),r="inside"===o||"inner"===o;return{fill:a.getTextColor()||(r?"#fff":t.getItemVisual(e,"color")),opacity:t.getItemVisual(e,"opacity"),textFont:a.getFont(),text:s.retrieve(t.hostModel.getFormattedLabel(e,n),t.getName(e))}}var r=e(164),s=e(125),l=o.prototype;l.updateData=function(t,e,n){function o(){l.stopAnimation(!0),l.animateTo({shape:{r:u.r+10}},300,"elasticOut")}function a(){l.stopAnimation(!0),l.animateTo({shape:{r:u.r}},300,"elasticOut")}var l=this.childAt(0),c=t.hostModel,h=t.getItemModel(e),u=t.getItemLayout(e),d=s.extend({},u);d.label=null,n?(l.setShape(d),l.shape.endAngle=u.startAngle,r.updateProps(l,{shape:{endAngle:u.endAngle}},c,e)):r.updateProps(l,{shape:d},c,e);var g=h.getModel("itemStyle"),p=t.getItemVisual(e,"color");l.useStyle(s.defaults({lineJoin:"bevel",fill:p},g.getModel("normal").getItemStyle())),l.hoverStyle=g.getModel("emphasis").getItemStyle(),i(this,t.getItemLayout(e),h.get("selected"),c.get("selectedOffset"),c.get("animation")),l.off("mouseover").off("mouseout").off("emphasis").off("normal"),h.get("hoverAnimation")&&c.ifEnableAnimation()&&l.on("mouseover",o).on("mouseout",a).on("emphasis",o).on("normal",a),this._updateLabel(t,e),r.setHoverStyle(this)},l._updateLabel=function(t,e){var n=this.childAt(1),i=this.childAt(2),o=t.hostModel,s=t.getItemModel(e),l=t.getItemLayout(e),c=l.label,h=t.getItemVisual(e,"color");r.updateProps(n,{shape:{points:c.linePoints||[[c.x,c.y],[c.x,c.y],[c.x,c.y]]}},o,e),r.updateProps(i,{style:{x:c.x,y:c.y}},o,e),i.attr({style:{textVerticalAlign:c.verticalAlign,textAlign:c.textAlign,textFont:c.font},rotation:c.rotation,origin:[c.x,c.y],z2:10});var u=s.getModel("label.normal"),d=s.getModel("label.emphasis"),g=s.getModel("labelLine.normal"),p=s.getModel("labelLine.emphasis"),f=u.get("position")||d.get("position");i.setStyle(a(t,e,"normal",u,f)),i.ignore=i.normalIgnore=!u.get("show"),i.hoverIgnore=!d.get("show"),n.ignore=n.normalIgnore=!g.get("show"),n.hoverIgnore=!p.get("show"),n.setStyle({stroke:h,opacity:t.getItemVisual(e,"opacity")}),n.setStyle(g.getModel("lineStyle").getLineStyle()),i.hoverStyle=a(t,e,"emphasis",d,f),n.hoverStyle=p.getModel("lineStyle").getLineStyle();var m=g.get("smooth");m&&m===!0&&(m=.4),n.setShape({smooth:m})},s.inherits(o,r.Group);var c=e(163).extend({type:"pie",init:function(){var t=new r.Group;this._sectorGroup=t},render:function(t,e,i,a){if(!a||a.from!==this.uid){var r=t.getData(),l=this._data,c=this.group,h=e.get("animation"),u=!l,d=s.curry(n,this.uid,t,h,i),g=t.get("selectedMode");if(r.diff(l).add(function(t){var e=new o(r,t);u&&e.eachChild(function(t){t.stopAnimation(!0)}),g&&e.on("click",d),r.setItemGraphicEl(t,e),c.add(e)}).update(function(t,e){var n=l.getItemGraphicEl(e);n.updateData(r,t),n.off("click"),g&&n.on("click",d),c.add(n),r.setItemGraphicEl(t,n)}).remove(function(t){var e=l.getItemGraphicEl(t);c.remove(e)}).execute(),h&&u&&r.count()>0){var p=r.getItemLayout(0),f=Math.max(i.getWidth(),i.getHeight())/2,m=s.bind(c.removeClipPath,c);c.setClipPath(this._createClipPath(p.cx,p.cy,f,p.startAngle,p.clockwise,m,t))}this._data=r}},dispose:function(){},_createClipPath:function(t,e,n,i,o,a,s){var l=new r.Sector({shape:{cx:t,cy:e,r0:0,r:n,startAngle:i,endAngle:i,clockwise:o}});return r.initProps(l,{shape:{endAngle:i+(o?1:-1)*Math.PI*2}},s,a),l},containPoint:function(t,e){var n=e.getData(),i=n.getItemLayout(0);if(i){var o=t[0]-i.cx,a=t[1]-i.cy,r=Math.sqrt(o*o+a*a);return r<=i.r&&r>=i.r0}}});t.exports=c},518:function(t,exports,e){var n=e(122),i=e(125);t.exports=function(t,e){i.each(e,function(e){e.update="updateView",n.registerAction(e,function(n,i){var o={};return i.eachComponent({mainType:"series",subType:t,query:n},function(t){t[e.method]&&t[e.method](n.name);var i=t.getData();i.each(function(e){var n=i.getName(e);o[n]=t.isSelected(n)||!1})}),{name:n.name,selected:o}})})}},519:function(t,exports){t.exports=function(t,e){var n={};e.eachRawSeriesByType(t,function(t){var i=t.getRawData(),o={};if(!e.isSeriesFiltered(t)){var a=t.getData();a.each(function(t){var e=a.getRawIndex(t);o[e]=t}),i.each(function(e){var r=i.getItemModel(e),s=o[e],l=null!=s&&a.getItemVisual(s,"color",!0);if(l)i.setItemVisual(e,"color",l);else{var c=r.get("itemStyle.normal.color")||t.getColorFromPalette(i.getName(e),n);i.setItemVisual(e,"color",c),null!=s&&a.setItemVisual(s,"color",c)}})}})}},520:function(t,exports,e){var n=e(128),i=n.parsePercent,o=e(521),a=e(125),r=2*Math.PI,s=Math.PI/180;t.exports=function(t,e,l,c){e.eachSeriesByType(t,function(t){var e=t.get("center"),c=t.get("radius");a.isArray(c)||(c=[0,c]),a.isArray(e)||(e=[e,e]);var h=l.getWidth(),u=l.getHeight(),d=Math.min(h,u),g=i(e[0],h),p=i(e[1],u),f=i(c[0],d/2),m=i(c[1],d/2),x=t.getData(),y=-t.get("startAngle")*s,v=t.get("minAngle")*s,_=x.getSum("value"),b=Math.PI/(_||x.count())*2,w=t.get("clockwise"),S=t.get("roseType"),M=x.getDataExtent("value");M[0]=0;var A=r,T=0,I=y,C=w?1:-1;if(x.each("value",function(t,e){var i;i="area"!==S?0===_?b:t*b:r/(x.count()||1),i<v?(i=v,A-=v):T+=t;var o=I+C*i;x.setItemLayout(e,{angle:i,startAngle:I,endAngle:o,clockwise:w,cx:g,cy:p,r0:f,r:S?n.linearMap(t,M,[f,m]):m}),I=o},!0),A<r)if(A<=.001){var L=r/x.count();x.each(function(t){var e=x.getItemLayout(t);e.startAngle=y+C*t*L,e.endAngle=y+C*(t+1)*L})}else b=A/T,I=y,x.each("value",function(t,e){var n=x.getItemLayout(e),i=n.angle===v?v:t*b;n.startAngle=I,n.endAngle=I+C*i,I+=i});o(t,m,h,u)})}},521:function(t,exports,e){"use strict";function n(t,e,n,i,o,a,r){function s(e,n,i,o){for(var a=e;a<n;a++)if(t[a].y+=i,a>e&&a+1<n&&t[a+1].y>t[a].y+t[a].height)return void l(a,i/2);l(n-1,i/2)}function l(e,n){for(var i=e;i>=0&&(t[i].y-=n,!(i>0&&t[i].y>t[i-1].y+t[i-1].height));i--);}function c(t,e,n,i,o,a){for(var r=a>0?e?Number.MAX_VALUE:0:e?Number.MAX_VALUE:0,s=0,l=t.length;s<l;s++)if("center"!==t[s].position){var c=Math.abs(t[s].y-i),h=t[s].len,u=t[s].len2,d=c<o+h?Math.sqrt((o+h+u)*(o+h+u)-c*c):Math.abs(t[s].x-n);e&&d>=r&&(d=r-10),!e&&d<=r&&(d=r+10),t[s].x=n+d*a,r=d}}t.sort(function(t,e){return t.y-e.y});for(var h,u=0,d=t.length,g=[],p=[],f=0;f<d;f++)h=t[f].y-u,h<0&&s(f,d,-h,o),u=t[f].y+t[f].height;r-u<0&&l(d-1,u-r);for(var f=0;f<d;f++)t[f].y>=n?p.push(t[f]):g.push(t[f]);c(g,!1,e,n,i,o),c(p,!0,e,n,i,o)}function i(t,e,i,o,a,r){for(var s=[],l=[],c=0;c<t.length;c++)t[c].x<e?s.push(t[c]):l.push(t[c]);n(l,e,i,o,1,a,r),n(s,e,i,o,-1,a,r);for(var c=0;c<t.length;c++){var h=t[c].linePoints;if(h){var u=h[1][0]-h[2][0];t[c].x<e?h[2][0]=t[c].x+3:h[2][0]=t[c].x-3,h[1][1]=h[2][1]=t[c].y,h[1][0]=h[2][0]+u}}}var o=e(129);t.exports=function(t,e,n,a){var r,s,l=t.getData(),c=[],h=!1;l.each(function(n){var i,a,u,d,g=l.getItemLayout(n),p=l.getItemModel(n),f=p.getModel("label.normal"),m=f.get("position")||p.get("label.emphasis.position"),x=p.getModel("labelLine.normal"),y=x.get("length"),v=x.get("length2"),_=(g.startAngle+g.endAngle)/2,b=Math.cos(_),w=Math.sin(_);r=g.cx,s=g.cy;var S="inside"===m||"inner"===m;if("center"===m)i=g.cx,a=g.cy,d="center";else{var M=(S?(g.r+g.r0)/2*b:g.r*b)+r,A=(S?(g.r+g.r0)/2*w:g.r*w)+s;if(i=M+3*b,a=A+3*w,!S){var T=M+b*(y+e-g.r),I=A+w*(y+e-g.r),C=T+(b<0?-1:1)*v,L=I;i=C+(b<0?-5:5),a=L,u=[[M,A],[T,I],[C,L]]}d=S?"center":b>0?"left":"right"}var P=f.getModel("textStyle").getFont(),k=f.get("rotate")?b<0?-_+Math.PI:-_:0,D=t.getFormattedLabel(n,"normal")||l.getName(n),E=o.getBoundingRect(D,P,d,"top");h=!!k,g.label={x:i,y:a,position:m,height:E.height,len:y,len2:v,linePoints:u,textAlign:d,verticalAlign:"middle",font:P,rotation:k},S||c.push(g.label)}),!h&&t.get("avoidLabelOverlap")&&i(c,r,s,e,n,a)}},522:function(t,exports){t.exports=function(t,e){var n=e.findComponents({mainType:"legend"});n&&n.length&&e.eachSeriesByType(t,function(t){var e=t.getData();e.filterSelf(function(t){for(var i=e.getName(t),o=0;o<n.length;o++)if(!n[o].isSelected(i))return!1;return!0},this)},this)}},523:function(t,exports,e){e(524),e(525)},524:function(t,exports,e){var n=e(218),i=e(149),o=e(125),a=i.extend({type:"series.gauge",getInitialData:function(t,e){var i=new n(["value"],this),a=t.data||[];return o.isArray(a)||(a=[a]),i.initData(a),i},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,textStyle:{color:"auto"}},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#333",fontSize:15}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:40,offsetCenter:[0,"40%"],textStyle:{color:"auto",fontSize:30}}}});t.exports=a},525:function(t,exports,e){function n(t,e){var n=t.get("center"),i=e.getWidth(),o=e.getHeight(),a=Math.min(i,o),r=s(n[0],e.getWidth()),l=s(n[1],e.getHeight()),c=s(t.get("radius"),a/2);return{cx:r,cy:l,r:c}}function i(t,e){return e&&("string"==typeof e?t=e.replace("{value}",t):"function"==typeof e&&(t=e(t))),t}var o=e(526),a=e(164),r=e(128),s=r.parsePercent,l=2*Math.PI,c=e(163).extend({type:"gauge",render:function(t,e,i){this.group.removeAll();var o=t.get("axisLine.lineStyle.color"),a=n(t,i);this._renderMain(t,e,i,o,a)},dispose:function(){},_renderMain:function(t,e,n,i,o){for(var r=this.group,s=t.getModel("axisLine"),c=s.getModel("lineStyle"),h=t.get("clockwise"),u=-t.get("startAngle")/180*Math.PI,d=-t.get("endAngle")/180*Math.PI,g=(d-u)%l,p=u,f=c.get("width"),m=0;m<i.length;m++){var x=Math.min(Math.max(i[m][0],0),1),d=u+g*x,y=new a.Sector({shape:{startAngle:p,endAngle:d,cx:o.cx,cy:o.cy,clockwise:h,r0:o.r-f,r:o.r},silent:!0});y.setStyle({fill:i[m][1]}),y.setStyle(c.getLineStyle(["color","borderWidth","borderColor"])),r.add(y),p=d}var v=function(t){if(t<=0)return i[0][1];for(var e=0;e<i.length;e++)if(i[e][0]>=t&&(0===e?0:i[e-1][0])<t)return i[e][1];return i[e-1][1]};if(!h){var _=u;u=d,d=_}this._renderTicks(t,e,n,v,o,u,d,h),this._renderPointer(t,e,n,v,o,u,d,h),this._renderTitle(t,e,n,v,o),this._renderDetail(t,e,n,v,o)},_renderTicks:function(t,e,n,o,l,c,h,u){for(var d=this.group,g=l.cx,p=l.cy,f=l.r,m=t.get("min"),x=t.get("max"),y=t.getModel("splitLine"),v=t.getModel("axisTick"),_=t.getModel("axisLabel"),b=t.get("splitNumber"),w=v.get("splitNumber"),S=s(y.get("length"),f),M=s(v.get("length"),f),A=c,T=(h-c)/b,I=T/w,C=y.getModel("lineStyle").getLineStyle(),L=v.getModel("lineStyle").getLineStyle(),P=_.getModel("textStyle"),k=0;k<=b;k++){var D=Math.cos(A),E=Math.sin(A);if(y.get("show")){var O=new a.Line({shape:{x1:D*f+g,y1:E*f+p,x2:D*(f-S)+g,y2:E*(f-S)+p},style:C,silent:!0});"auto"===C.stroke&&O.setStyle({stroke:o(k/b)}),d.add(O)}if(_.get("show")){var G=i(r.round(k/b*(x-m)+m),_.get("formatter")),z=_.get("distance"),N=new a.Text({style:{text:G,x:D*(f-S-z)+g,y:E*(f-S-z)+p,fill:P.getTextColor(),textFont:P.getFont(),textVerticalAlign:E<-.4?"top":E>.4?"bottom":"middle",textAlign:D<-.4?"left":D>.4?"right":"center"},silent:!0});"auto"===N.style.fill&&N.setStyle({fill:o(k/b)}),d.add(N)}if(v.get("show")&&k!==b){for(var B=0;B<=w;B++){var D=Math.cos(A),E=Math.sin(A),R=new a.Line({shape:{x1:D*f+g,y1:E*f+p,x2:D*(f-M)+g,y2:E*(f-M)+p},silent:!0,style:L});"auto"===L.stroke&&R.setStyle({stroke:o((k+B/w)/b)}),d.add(R),A+=I}A-=I}else A+=T}},_renderPointer:function(t,e,n,i,l,c,h,u){var d=[+t.get("min"),+t.get("max")],g=[c,h],p=t.getData(),f=this._data,m=this.group;p.diff(f).add(function(e){var n=new o({shape:{angle:c}});a.updateProps(n,{shape:{angle:r.linearMap(p.get("value",e),d,g,!0)}},t),m.add(n),p.setItemGraphicEl(e,n)}).update(function(e,n){var i=f.getItemGraphicEl(n);a.updateProps(i,{shape:{angle:r.linearMap(p.get("value",e),d,g,!0)}},t),m.add(i),p.setItemGraphicEl(e,i)}).remove(function(t){var e=f.getItemGraphicEl(t);m.remove(e)}).execute(),p.eachItemGraphicEl(function(t,e){var n=p.getItemModel(e),o=n.getModel("pointer");t.setShape({x:l.cx,y:l.cy,width:s(o.get("width"),l.r),r:s(o.get("length"),l.r)}),t.useStyle(n.getModel("itemStyle.normal").getItemStyle()),"auto"===t.style.fill&&t.setStyle("fill",i((p.get("value",e)-d[0])/(d[1]-d[0]))),a.setHoverStyle(t,n.getModel("itemStyle.emphasis").getItemStyle())}),this._data=p},_renderTitle:function(t,e,n,i,o){var r=t.getModel("title");if(r.get("show")){var l=r.getModel("textStyle"),c=r.get("offsetCenter"),h=o.cx+s(c[0],o.r),u=o.cy+s(c[1],o.r),d=new a.Text({style:{x:h,y:u,text:t.getData().getName(0),fill:l.getTextColor(),textFont:l.getFont(),textAlign:"center",textVerticalAlign:"middle"}});this.group.add(d)}},_renderDetail:function(t,e,n,o,l){var c=t.getModel("detail"),h=t.get("min"),u=t.get("max");if(c.get("show")){var d=c.getModel("textStyle"),g=c.get("offsetCenter"),p=l.cx+s(g[0],l.r),f=l.cy+s(g[1],l.r),m=s(c.get("width"),l.r),x=s(c.get("height"),l.r),y=t.getData().get("value",0),v=new a.Rect({shape:{x:p-m/2,y:f-x/2,width:m,height:x},style:{text:i(y,c.get("formatter")),fill:c.get("backgroundColor"),textFill:d.getTextColor(),textFont:d.getFont()}});"auto"===v.style.textFill&&v.setStyle("textFill",o(r.linearMap(y,[h,u],[0,1],!0))),v.setStyle(c.getItemStyle(["color"])),this.group.add(v)}}});t.exports=c},526:function(t,exports,e){t.exports=e(166).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(t,e){var n=Math.cos,i=Math.sin,o=e.r,a=e.width,r=e.angle,s=e.x-n(r)*a*(a>=o/3?1:2),l=e.y-i(r)*a*(a>=o/3?1:2);r=e.angle-Math.PI/2,t.moveTo(s,l),t.lineTo(e.x+n(r)*a,e.y+i(r)*a),t.lineTo(e.x+n(e.angle)*o,e.y+i(e.angle)*o),t.lineTo(e.x-n(r)*a,e.y-i(r)*a),t.lineTo(s,l)}})},527:function(t,exports,e){var n=e(125),i=e(122),o=i.PRIORITY;e(528),e(530),i.registerVisual(n.curry(e(536),"line","circle","line")),i.registerLayout(n.curry(e(537),"line")),i.registerProcessor(o.PROCESSOR.STATISTIC,n.curry(e(538),"line")),e(539)},528:function(t,exports,e){"use strict";var n=e(529),i=e(149);t.exports=i.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(t,e){if(__DEV__){var i=t.coordinateSystem;if("polar"!==i&&"cartesian2d"!==i)throw new Error("Line not support coordinateSystem besides cartesian and polar")}return n(t.data,this,e)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}})},529:function(t,exports,e){"use strict";function n(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}function i(t){var e=n(t);return null!=e&&!h.isArray(g(e))}function o(t,e,n){if(t=t||[],__DEV__&&!h.isArray(t))throw new Error("Invalid data.");var o=e.get("coordinateSystem"),a=f[o],r=d.get(o),m=a&&a(t,e,n),x=m&&m.dimensions;x||(x=r&&r.dimensions||["x","y"],x=c(x,t,x.concat(["value"])));var y=m?m.categoryIndex:-1,v=new l(x,e),_=s(m,t),b={},w=y>=0&&i(t)?function(t,e,n,i){return u.isDataItemOption(t)&&(v.hasItemOption=!0),i===y?n:p(g(t),x[i])}:function(t,e,n,i){var o=g(t),a=p(o&&o[i],x[i]);u.isDataItemOption(t)&&(v.hasItemOption=!0);var r=m&&m.categoryAxesModels;return r&&r[e]&&"string"==typeof a&&(b[e]=b[e]||r[e].getCategories(),a=h.indexOf(b[e],a),a<0&&!isNaN(a)&&(a=+a)),a};return v.hasItemOption=!1,v.initData(t,_,w),v}function a(t){return"category"!==t&&"time"!==t}function r(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function s(t,e){var n,i=[],o=t&&t.dimensions[t.categoryIndex];if(o&&(n=t.categoryAxesModels[o.name]),n){var a=n.getCategories();if(a){var r=e.length;if(h.isArray(e[0])&&e[0].length>1){i=[];for(var s=0;s<r;s++)i[s]=a[e[s][t.categoryIndex||0]]}else i=a.slice(0)}}return i}var l=e(218),c=e(515),h=e(125),u=e(126),d=e(147),g=u.getDataItemValue,p=u.converDataValue,f={cartesian2d:function(t,e,n){var i=h.map(["xAxis","yAxis"],function(t){return n.queryComponents({mainType:t,index:e.get(t+"Index"),id:e.get(t+"Id")})[0]}),o=i[0],s=i[1];if(__DEV__){if(!o)throw new Error('xAxis "'+h.retrieve(e.get("xAxisIndex"),e.get("xAxisId"),0)+'" not found');if(!s)throw new Error('yAxis "'+h.retrieve(e.get("xAxisIndex"),e.get("yAxisId"),0)+'" not found')}var l=o.get("type"),u=s.get("type"),d=[{name:"x",type:r(l),stackable:a(l)},{name:"y",type:r(u),stackable:a(u)}],g="category"===l,p="category"===u;c(d,t,["x","y","z"]);var f={};return g&&(f.x=o),p&&(f.y=s),{dimensions:d,categoryIndex:g?0:p?1:-1,categoryAxesModels:f}},polar:function(t,e,n){var i=n.queryComponents({mainType:"polar",index:e.get("polarIndex"),id:e.get("polarId")})[0],o=i.findAxisModel("angleAxis"),s=i.findAxisModel("radiusAxis");if(__DEV__){if(!o)throw new Error("angleAxis option not found");if(!s)throw new Error("radiusAxis option not found")}var l=s.get("type"),h=o.get("type"),u=[{name:"radius",type:r(l),stackable:a(l)},{name:"angle",type:r(h),stackable:a(h)}],d="category"===h,g="category"===l;c(u,t,["radius","angle","value"]);var p={};return g&&(p.radius=s),d&&(p.angle=o),{dimensions:u,categoryIndex:d?1:g?0:-1,categoryAxesModels:p}},geo:function(t,e,n){return{dimensions:c([{name:"lng"},{name:"lat"}],t,["lng","lat","value"])}}};t.exports=o},530:function(t,exports,e){"use strict";function n(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++){var i=t[n],o=e[n];if(i[0]!==o[0]||i[1]!==o[1])return}return!0}}function i(t){return"number"==typeof t?t:t?.3:0}function o(t){var e=t.getGlobalExtent();if(t.onBand){var n=t.getBandWidth()/2-1,i=e[1]>e[0]?1:-1;e[0]+=i*n,e[1]-=i*n}return e}function a(t){return t>=0?1:-1}function r(t,e){var n=t.getBaseAxis(),i=t.getOtherAxis(n),o=n.onZero?0:i.scale.getExtent()[0],r=i.dim,s="x"===r||"radius"===r?1:0;return e.mapArray([r],function(i,l){for(var c,h=e.stackedOn;h&&a(h.get(r,l))===a(i);){c=h;break}var u=[];return u[s]=e.get(n.dim,l),u[1-s]=c?c.get(r,l,!0):o,t.dataToPoint(u)},!0)}function s(t,e,n){var i=o(t.getAxis("x")),a=o(t.getAxis("y")),r=t.getBaseAxis().isHorizontal(),s=Math.min(i[0],i[1]),l=Math.min(a[0],a[1]),c=Math.max(i[0],i[1])-s,h=Math.max(a[0],a[1])-l,u=n.get("lineStyle.normal.width")||2,d=n.get("clipOverflow")?u/2:Math.max(c,h);r?(l-=d,h+=2*d):(s-=d,c+=2*d);var g=new x.Rect({shape:{x:s,y:l,width:c,height:h}});return e&&(g.shape[r?"width":"height"]=0,x.initProps(g,{shape:{width:c,height:h}},n)),g}function l(t,e,n){var i=t.getAngleAxis(),o=t.getRadiusAxis(),a=o.getExtent(),r=i.getExtent(),s=Math.PI/180,l=new x.Sector({shape:{cx:t.cx,cy:t.cy,r0:a[0],r:a[1],startAngle:-r[0]*s,endAngle:-r[1]*s,clockwise:i.inverse}});return e&&(l.shape.endAngle=-r[0]*s,x.initProps(l,{shape:{endAngle:-r[1]*s}},n)),l}function c(t,e,n){return"polar"===t.type?l(t,e,n):s(t,e,n)}function h(t,e,n){
for(var i=e.getBaseAxis(),o="x"===i.dim||"radius"===i.dim?0:1,a=[],r=0;r<t.length-1;r++){var s=t[r+1],l=t[r];a.push(l);var c=[];switch(n){case"end":c[o]=s[o],c[1-o]=l[1-o],a.push(c);break;case"middle":var h=(l[o]+s[o])/2,u=[];c[o]=u[o]=h,c[1-o]=l[1-o],u[1-o]=s[1-o],a.push(c),a.push(u);break;default:c[o]=l[o],c[1-o]=s[1-o],a.push(c)}}return t[r]&&a.push(t[r]),a}function u(t,e){return Math.max(Math.min(t,e[1]),e[0])}function d(t,e){var n=t.getVisual("visualMeta");if(n&&n.length&&t.count()){for(var i,o=n.length-1;o>=0;o--)if(n[o].dimension<2){i=n[o];break}if(!i||"cartesian2d"!==e.type)return void(__DEV__&&console.warn("Visual map on line style only support x or y dimension."));var a=i.dimension,r=t.dimensions[a],s=t.getDataExtent(r),l=i.stops,c=[];l[0].interval&&l.sort(function(t,e){return t.interval[0]-e.interval[0]});var h=l[0],d=l[l.length-1],g=h.interval?u(h.interval[0],s):h.value,p=d.interval?u(d.interval[1],s):d.value,f=p-g;if(0===f)return t.getItemVisual(0,"color");for(var o=0;o<l.length;o++)if(l[o].interval){if(l[o].interval[1]===l[o].interval[0])continue;c.push({offset:(u(l[o].interval[0],s)-g)/f,color:l[o].color},{offset:(u(l[o].interval[1],s)-g)/f,color:l[o].color})}else c.push({offset:(l[o].value-g)/f,color:l[o].color});var m=new x.LinearGradient(0,0,0,0,c,!0),y=e.getAxis(r),v=y.toGlobalCoord(y.dataToCoord(g)),_=y.toGlobalCoord(y.dataToCoord(p));return m[r]=v,m[r+"2"]=_,m}}var g=e(125),p=e(531),f=e(532),m=e(534),x=e(164),y=e(126),v=e(535),_=e(163);t.exports=_.extend({type:"line",init:function(){var t=new x.Group,e=new p;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,o){var a=t.coordinateSystem,s=this.group,l=t.getData(),u=t.getModel("lineStyle.normal"),p=t.getModel("areaStyle.normal"),f=l.mapArray(l.getItemLayout,!0),m="polar"===a.type,x=this._coordSys,y=this._symbolDraw,v=this._polyline,_=this._polygon,b=this._lineGroup,w=t.get("animation"),S=!p.isEmpty(),M=r(a,l),A=t.get("showSymbol"),T=A&&!m&&!t.get("showAllSymbol")&&this._getSymbolIgnoreFunc(l,a),I=this._data;I&&I.eachItemGraphicEl(function(t,e){t.__temp&&(s.remove(t),I.setItemGraphicEl(e,null))}),A||y.remove(),s.add(b);var C=!m&&t.get("step");v&&x.type===a.type&&C===this._step?(S&&!_?_=this._newPolygon(f,M,a,w):_&&!S&&(b.remove(_),_=this._polygon=null),b.setClipPath(c(a,!1,t)),A&&y.updateData(l,T),l.eachItemGraphicEl(function(t){t.stopAnimation(!0)}),n(this._stackedOnPoints,M)&&n(this._points,f)||(w?this._updateAnimation(l,M,a,o,C):(C&&(f=h(f,a,C),M=h(M,a,C)),v.setShape({points:f}),_&&_.setShape({points:f,stackedOnPoints:M})))):(A&&y.updateData(l,T),C&&(f=h(f,a,C),M=h(M,a,C)),v=this._newPolyline(f,a,w),S&&(_=this._newPolygon(f,M,a,w)),b.setClipPath(c(a,!0,t)));var L=d(l,a)||l.getVisual("color");v.useStyle(g.defaults(u.getLineStyle(),{fill:"none",stroke:L,lineJoin:"bevel"}));var P=t.get("smooth");if(P=i(t.get("smooth")),v.setShape({smooth:P,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")}),_){var k=l.stackedOn,D=0;if(_.useStyle(g.defaults(p.getAreaStyle(),{fill:L,opacity:.7,lineJoin:"bevel"})),k){var E=k.hostModel;D=i(E.get("smooth"))}_.setShape({smooth:P,stackedOnSmooth:D,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")})}this._data=l,this._coordSys=a,this._stackedOnPoints=M,this._points=f,this._step=C},dispose:function(){},highlight:function(t,e,n,i){var o=t.getData(),a=y.queryDataIndex(o,i);if(!(a instanceof Array)&&null!=a&&a>=0){var r=o.getItemGraphicEl(a);if(!r){var s=o.getItemLayout(a);r=new f(o,a),r.position=s,r.setZ(t.get("zlevel"),t.get("z")),r.ignore=isNaN(s[0])||isNaN(s[1]),r.__temp=!0,o.setItemGraphicEl(a,r),r.stopSymbolAnimation(!0),this.group.add(r)}r.highlight()}else _.prototype.highlight.call(this,t,e,n,i)},downplay:function(t,e,n,i){var o=t.getData(),a=y.queryDataIndex(o,i);if(null!=a&&a>=0){var r=o.getItemGraphicEl(a);r&&(r.__temp?(o.setItemGraphicEl(a,null),this.group.remove(r)):r.downplay())}else _.prototype.downplay.call(this,t,e,n,i)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new v.Polyline({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e,e},_newPolygon:function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new v.Polygon({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(n),this._polygon=n,n},_getSymbolIgnoreFunc:function(t,e){var n=e.getAxesByScale("ordinal")[0];if(n&&n.isLabelIgnored)return g.bind(n.isLabelIgnored,n)},_updateAnimation:function(t,e,n,i,o){var a=this._polyline,r=this._polygon,s=t.hostModel,l=m(this._data,t,this._stackedOnPoints,e,this._coordSys,n),c=l.current,u=l.stackedOnCurrent,d=l.next,g=l.stackedOnNext;o&&(c=h(l.current,n,o),u=h(l.stackedOnCurrent,n,o),d=h(l.next,n,o),g=h(l.stackedOnNext,n,o)),a.shape.__points=l.current,a.shape.points=c,x.updateProps(a,{shape:{points:d}},s),r&&(r.setShape({points:c,stackedOnPoints:u}),x.updateProps(r,{shape:{points:d,stackedOnPoints:g}},s));for(var p=[],f=l.status,y=0;y<f.length;y++){var v=f[y].cmd;if("="===v){var _=t.getItemGraphicEl(f[y].idx1);_&&p.push({el:_,ptIdx:y})}}a.animators&&a.animators.length&&a.animators[0].during(function(){for(var t=0;t<p.length;t++){var e=p[t].el;e.attr("position",a.shape.__points[p[t].ptIdx])}})},remove:function(t){var e=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(t,i){t.__temp&&(e.remove(t),n.setItemGraphicEl(i,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}})},531:function(t,exports,e){function n(t){this.group=new o.Group,this._symbolCtor=t||a}function i(t,e,n){var i=t.getItemLayout(e);return i&&!isNaN(i[0])&&!isNaN(i[1])&&!(n&&n(e))&&"none"!==t.getItemVisual(e,"symbol")}var o=e(164),a=e(532),r=n.prototype;r.updateData=function(t,e){var n=this.group,a=t.hostModel,r=this._data,s=this._symbolCtor,l={itemStyle:a.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:a.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:a.get("symbolRotate"),symbolOffset:a.get("symbolOffset"),hoverAnimation:a.get("hoverAnimation"),labelModel:a.getModel("label.normal"),hoverLabelModel:a.getModel("label.emphasis")};t.diff(r).add(function(o){var a=t.getItemLayout(o);if(i(t,o,e)){var r=new s(t,o,l);r.attr("position",a),t.setItemGraphicEl(o,r),n.add(r)}}).update(function(c,h){var u=r.getItemGraphicEl(h),d=t.getItemLayout(c);return i(t,c,e)?(u?(u.updateData(t,c,l),o.updateProps(u,{position:d},a)):(u=new s(t,c),u.attr("position",d)),n.add(u),void t.setItemGraphicEl(c,u)):void n.remove(u)}).remove(function(t){var e=r.getItemGraphicEl(t);e&&e.fadeOut(function(){n.remove(e)})}).execute(),this._data=t},r.updateLayout=function(){var t=this._data;t&&t.eachItemGraphicEl(function(e,n){var i=t.getItemLayout(n);e.attr("position",i)})},r.remove=function(t){var e=this.group,n=this._data;n&&(t?n.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})}):e.removeAll())},t.exports=n},532:function(t,exports,e){function n(t){return t=t instanceof Array?t.slice():[+t,+t],t[0]/=2,t[1]/=2,t}function i(t,e,n){s.Group.call(this),this.updateData(t,e,n)}function o(t,e){this.parent.drift(t,e)}var a=e(125),r=e(533),s=e(164),l=e(128),c=i.prototype;c._createSymbol=function(t,e,i){this.removeAll();var a=e.hostModel,l=e.getItemVisual(i,"color"),c=r.createSymbol(t,-1,-1,2,2,l);c.attr({z2:100,culling:!0,scale:[0,0]}),c.drift=o;var h=n(e.getItemVisual(i,"symbolSize"));s.initProps(c,{scale:h},a,i),this._symbolType=t,this.add(c)},c.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},c.getSymbolPath=function(){return this.childAt(0)},c.getScale=function(){return this.childAt(0).scale},c.highlight=function(){this.childAt(0).trigger("emphasis")},c.downplay=function(){this.childAt(0).trigger("normal")},c.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},c.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":"pointer"},c.updateData=function(t,e,i){this.silent=!1;var o=t.getItemVisual(e,"symbol")||"circle",a=t.hostModel,r=n(t.getItemVisual(e,"symbolSize"));if(o!==this._symbolType)this._createSymbol(o,t,e);else{var l=this.childAt(0);s.updateProps(l,{scale:r},a,e)}this._updateCommon(t,e,r,i),this._seriesModel=a};var h=["itemStyle","normal"],u=["itemStyle","emphasis"],d=["label","normal"],g=["label","emphasis"];c._updateCommon=function(t,e,i,o){var r=this.childAt(0),c=t.hostModel,p=t.getItemVisual(e,"color");"image"!==r.type&&r.useStyle({strokeNoScale:!0}),o=o||null;var f=o&&o.itemStyle,m=o&&o.hoverItemStyle,x=o&&o.symbolRotate,y=o&&o.symbolOffset,v=o&&o.labelModel,_=o&&o.hoverLabelModel,b=o&&o.hoverAnimation;if(!o||t.hasItemOption){var w=t.getItemModel(e);f=w.getModel(h).getItemStyle(["color"]),m=w.getModel(u).getItemStyle(),x=w.getShallow("symbolRotate"),y=w.getShallow("symbolOffset"),v=w.getModel(d),_=w.getModel(g),b=w.getShallow("hoverAnimation")}else m=a.extend({},m);var S=r.style;r.attr("rotation",(x||0)*Math.PI/180||0),y&&r.attr("position",[l.parsePercent(y[0],i[0]),l.parsePercent(y[1],i[1])]),r.setColor(p),r.setStyle(f);var M=t.getItemVisual(e,"opacity");null!=M&&(S.opacity=M);for(var A,T,I=t.dimensions.slice();I.length&&(A=I.pop(),T=t.getDimensionInfo(A).type,"ordinal"===T||"time"===T););null!=A&&v.getShallow("show")?(s.setText(S,v,p),S.text=a.retrieve(c.getFormattedLabel(e,"normal"),t.get(A,e))):S.text="",null!=A&&_.getShallow("show")?(s.setText(m,_,p),m.text=a.retrieve(c.getFormattedLabel(e,"emphasis"),t.get(A,e))):m.text="";var C=n(t.getItemVisual(e,"symbolSize"));if(r.off("mouseover").off("mouseout").off("emphasis").off("normal"),r.hoverStyle=m,s.setHoverStyle(r),b&&c.ifEnableAnimation()){var L=function(){var t=C[1]/C[0];this.animateTo({scale:[Math.max(1.1*C[0],C[0]+3),Math.max(1.1*C[1],C[1]+3*t)]},400,"elasticOut")},P=function(){this.animateTo({scale:C},400,"elasticOut")};r.on("mouseover",L).on("mouseout",P).on("emphasis",L).on("normal",P)}},c.fadeOut=function(t){var e=this.childAt(0);this.silent=!0,e.style.text="",s.updateProps(e,{scale:[0,0]},this._seriesModel,this.dataIndex,t)},a.inherits(i,s.Group),t.exports=i},533:function(t,exports,e){"use strict";var n=e(164),i=e(130),o=n.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,o=e.width/2,a=e.height/2;t.moveTo(n,i-a),t.lineTo(n+o,i+a),t.lineTo(n-o,i+a),t.closePath()}}),a=n.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,o=e.width/2,a=e.height/2;t.moveTo(n,i-a),t.lineTo(n+o,i),t.lineTo(n,i+a),t.lineTo(n-o,i),t.closePath()}}),r=n.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,i=e.y,o=e.width/5*3,a=Math.max(o,e.height),r=o/2,s=r*r/(a-r),l=i-a+r+s,c=Math.asin(s/r),h=Math.cos(c)*r,u=Math.sin(c),d=Math.cos(c);t.arc(n,l,r,Math.PI-c,2*Math.PI+c);var g=.6*r,p=.7*r;t.bezierCurveTo(n+h-u*g,l+s+d*g,n,i-p,n,i),t.bezierCurveTo(n,i-p,n-h+u*g,l+s+d*g,n-h,l+s),t.closePath()}}),s=n.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,i=e.width,o=e.x,a=e.y,r=i/3*2;t.moveTo(o,a),t.lineTo(o+r,a+n),t.lineTo(o,a+n/4*3),t.lineTo(o-r,a+n),t.lineTo(o,a),t.closePath()}}),l={line:n.Line,rect:n.Rect,roundRect:n.Rect,square:n.Rect,circle:n.Circle,diamond:a,pin:r,arrow:s,triangle:o},c={line:function(t,e,n,i,o){o.x1=t,o.y1=e+i/2,o.x2=t+n,o.y2=e+i/2},rect:function(t,e,n,i,o){o.x=t,o.y=e,o.width=n,o.height=i},roundRect:function(t,e,n,i,o){o.x=t,o.y=e,o.width=n,o.height=i,o.r=Math.min(n,i)/4},square:function(t,e,n,i,o){var a=Math.min(n,i);o.x=t,o.y=e,o.width=a,o.height=a},circle:function(t,e,n,i,o){o.cx=t+n/2,o.cy=e+i/2,o.r=Math.min(n,i)/2},diamond:function(t,e,n,i,o){o.cx=t+n/2,o.cy=e+i/2,o.width=n,o.height=i},pin:function(t,e,n,i,o){o.x=t+n/2,o.y=e+i/2,o.width=n,o.height=i},arrow:function(t,e,n,i,o){o.x=t+n/2,o.y=e+i/2,o.width=n,o.height=i},triangle:function(t,e,n,i,o){o.cx=t+n/2,o.cy=e+i/2,o.width=n,o.height=i}},h={};for(var u in l)l.hasOwnProperty(u)&&(h[u]=new l[u]);var d=n.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var t=this.style,e=this.shape;"pin"===e.symbolType&&"inside"===t.textPosition&&(t.textPosition=["50%","40%"],t.textAlign="center",t.textVerticalAlign="middle")},buildPath:function(t,e,n){var i=e.symbolType,o=h[i];"none"!==e.symbolType&&(o||(i="rect",o=h[i]),c[i](e.x,e.y,e.width,e.height,o.shape),o.buildPath(t,o.shape,n))}}),g=function(t){if("image"!==this.type){var e=this.style,n=this.shape;n&&"line"===n.symbolType?e.stroke=t:this.__isEmptyBrush?(e.stroke=t,e.fill="#fff"):(e.fill&&(e.fill=t),e.stroke&&(e.stroke=t)),this.dirty(!1)}},p={createSymbol:function(t,e,o,a,r,s){var l=0===t.indexOf("empty");l&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var c;return c=0===t.indexOf("image://")?new n.Image({style:{image:t.slice(8),x:e,y:o,width:a,height:r}}):0===t.indexOf("path://")?n.makePath(t.slice(7),{},new i(e,o,a,r)):new d({shape:{symbolType:t,x:e,y:o,width:a,height:r}}),c.__isEmptyBrush=l,c.setColor=g,c.setColor(s),c}};t.exports=p},534:function(t,exports){function e(t){return t>=0?1:-1}function n(t,n,i){for(var o,a=t.getBaseAxis(),r=t.getOtherAxis(a),s=a.onZero?0:r.scale.getExtent()[0],l=r.dim,c="x"===l||"radius"===l?1:0,h=n.stackedOn,u=n.get(l,i);h&&e(h.get(l,i))===e(u);){o=h;break}var d=[];return d[c]=n.get(a.dim,i),d[1-c]=o?o.get(l,i,!0):s,t.dataToPoint(d)}function i(t,e){var n=[];return e.diff(t).add(function(t){n.push({cmd:"+",idx:t})}).update(function(t,e){n.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){n.push({cmd:"-",idx:t})}).execute(),n}t.exports=function(t,e,o,a,r,s){for(var l=i(t,e),c=[],h=[],u=[],d=[],g=[],p=[],f=[],m=s.dimensions,x=0;x<l.length;x++){var y=l[x],v=!0;switch(y.cmd){case"=":var _=t.getItemLayout(y.idx),b=e.getItemLayout(y.idx1);(isNaN(_[0])||isNaN(_[1]))&&(_=b.slice()),c.push(_),h.push(b),u.push(o[y.idx]),d.push(a[y.idx1]),f.push(e.getRawIndex(y.idx1));break;case"+":var w=y.idx;c.push(r.dataToPoint([e.get(m[0],w,!0),e.get(m[1],w,!0)])),h.push(e.getItemLayout(w).slice()),u.push(n(r,e,w)),d.push(a[w]),f.push(e.getRawIndex(w));break;case"-":var w=y.idx,S=t.getRawIndex(w);S!==w?(c.push(t.getItemLayout(w)),h.push(s.dataToPoint([t.get(m[0],w,!0),t.get(m[1],w,!0)])),u.push(o[w]),d.push(n(s,t,w)),f.push(S)):v=!1}v&&(g.push(y),p.push(p.length))}p.sort(function(t,e){return f[t]-f[e]});for(var M=[],A=[],T=[],I=[],C=[],x=0;x<p.length;x++){var w=p[x];M[x]=c[w],A[x]=h[w],T[x]=u[w],I[x]=d[w],C[x]=g[w]}return{current:M,next:A,stackedOnCurrent:T,stackedOnNext:I,status:C}}},535:function(t,exports,e){function n(t){return isNaN(t[0])||isNaN(t[1])}function i(t,e,i,o,a,p,f,m,x,y,v){for(var _=0,b=i,w=0;w<o;w++){var S=e[b];if(b>=a||b<0)break;if(n(S)){if(v){b+=p;continue}break}if(b===i)t[p>0?"moveTo":"lineTo"](S[0],S[1]),h(d,S);else if(x>0){var M=b+p,A=e[M];if(v)for(;A&&n(e[M]);)M+=p,A=e[M];var T=.5,I=e[_],A=e[M];if(!A||n(A))h(g,S);else{n(A)&&!v&&(A=S),r.sub(u,A,I);var C,L;if("x"===y||"y"===y){var P="x"===y?0:1;C=Math.abs(S[P]-I[P]),L=Math.abs(S[P]-A[P])}else C=r.dist(S,I),L=r.dist(S,A);T=L/(L+C),c(g,S,u,-x*(1-T))}s(d,d,m),l(d,d,f),s(g,g,m),l(g,g,f),t.bezierCurveTo(d[0],d[1],g[0],g[1],S[0],S[1]),c(d,S,u,x*T)}else t.lineTo(S[0],S[1]);_=b,b+=p}return w}function o(t,e){var n=[1/0,1/0],i=[-(1/0),-(1/0)];if(e)for(var o=0;o<t.length;o++){var a=t[o];a[0]<n[0]&&(n[0]=a[0]),a[1]<n[1]&&(n[1]=a[1]),a[0]>i[0]&&(i[0]=a[0]),a[1]>i[1]&&(i[1]=a[1])}return{min:e?n:i,max:e?i:n}}var a=e(166),r=e(131),s=r.min,l=r.max,c=r.scaleAndAdd,h=r.copy,u=[],d=[],g=[];t.exports={Polyline:a.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},buildPath:function(t,e){var a=e.points,r=0,s=a.length,l=o(a,e.smoothConstraint);if(e.connectNulls){for(;s>0&&n(a[s-1]);s--);for(;r<s&&n(a[r]);r++);}for(;r<s;)r+=i(t,a,r,s,s,1,l.min,l.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),Polygon:a.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},buildPath:function(t,e){var a=e.points,r=e.stackedOnPoints,s=0,l=a.length,c=e.smoothMonotone,h=o(a,e.smoothConstraint),u=o(r,e.smoothConstraint);if(e.connectNulls){for(;l>0&&n(a[l-1]);l--);for(;s<l&&n(a[s]);s++);}for(;s<l;){var d=i(t,a,s,l,l,1,h.min,h.max,e.smooth,c,e.connectNulls);i(t,r,s+d-1,d,l,-1,u.min,u.max,e.stackedOnSmooth,c,e.connectNulls),s+=d+1,t.closePath()}}})}},536:function(t,exports){t.exports=function(t,e,n,i,o){i.eachRawSeriesByType(t,function(t){var o=t.getData(),a=t.get("symbol")||e,r=t.get("symbolSize");o.setVisual({legendSymbol:n||a,symbol:a,symbolSize:r}),i.isSeriesFiltered(t)||("function"==typeof r&&o.each(function(e){var n=t.getRawValue(e),i=t.getDataParams(e);o.setItemVisual(e,"symbolSize",r(n,i))}),o.each(function(t){var e=o.getItemModel(t),n=e.getShallow("symbol",!0),i=e.getShallow("symbolSize",!0);null!=n&&o.setItemVisual(t,"symbol",n),null!=i&&o.setItemVisual(t,"symbolSize",i)}))})}},537:function(t,exports){t.exports=function(t,e){e.eachSeriesByType(t,function(t){var e=t.getData(),n=t.coordinateSystem;if(n){var i=n.dimensions;"singleAxis"===n.type?e.each(i[0],function(t,i){e.setItemLayout(i,isNaN(t)?[NaN,NaN]:n.dataToPoint(t))}):e.each(i,function(t,i,o){e.setItemLayout(o,isNaN(t)||isNaN(i)?[NaN,NaN]:n.dataToPoint([t,i]))},!0)}})}},538:function(t,exports){var e={average:function(t){for(var e=0,n=0,i=0;i<t.length;i++)isNaN(t[i])||(e+=t[i],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-(1/0),n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return e},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return e},nearest:function(t){return t[0]}},n=function(t,e){return Math.round(t.length/2)};t.exports=function(t,i,o){i.eachSeriesByType(t,function(t){var i=t.getData(),o=t.get("sampling"),a=t.coordinateSystem;if("cartesian2d"===a.type&&o){var r=a.getBaseAxis(),s=a.getOtherAxis(r),l=r.getExtent(),c=l[1]-l[0],h=Math.round(i.count()/c);if(h>1){var u;"string"==typeof o?u=e[o]:"function"==typeof o&&(u=o),u&&(i=i.downSample(s.dim,1/h,u,n),t.setData(i))}}},this)}},539:function(t,exports,e){"use strict";var n=e(164),i=e(125),o=e(122);e(540),e(558),o.extendComponentView({type:"grid",render:function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new n.Rect({shape:t.coordinateSystem.getRect(),style:i.defaults({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))}}),o.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})},540:function(t,exports,e){function n(t,e,n){return t.findGridModel()===e}function i(t){var e,n=t.model,i=n.getFormattedLabels(),o=1,a=i.length;a>40&&(o=Math.ceil(a/40));for(var r=0;r<a;r+=o)if(!t.isLabelIgnored(r)){var s=n.getTextRect(i[r]);e?e.union(s):e=s}return e}function o(t,e,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,n),this._model=t}function a(t,e){var n=t.getExtent(),i=n[0]+n[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return i-t+e}}function r(t,e){return h.map(x,function(e){var n=t.getReferringComponents(e)[0];if(__DEV__&&!n)throw new Error(e+' "'+h.retrieve(t.get(e+"Index"),t.get(e+"Id"),0)+'" not found');return n})}function s(t){return"cartesian2d"===t.get("coordinateSystem")}var l=e(142),c=e(541),h=e(125),u=e(547),d=e(549),g=h.each,p=c.ifAxisCrossZero,f=c.niceScaleExtent;e(552);var m=o.prototype;m.type="grid",m.getRect=function(){return this._rect},m.update=function(t,e){function n(t){var e=i[t];for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];if(o&&("category"===o.type||!p(o)))return!0}return!1}var i=this._axesMap;this._updateScale(t,this._model),g(i.x,function(t){f(t,t.model)}),g(i.y,function(t){f(t,t.model)}),g(i.x,function(t){n("y")&&(t.onZero=!1)}),g(i.y,function(t){n("x")&&(t.onZero=!1)}),this.resize(this._model,e)},m.resize=function(t,e){function n(){g(r,function(t){var e=t.isHorizontal(),n=e?[0,o.width]:[0,o.height],i=t.inverse?1:0;t.setExtent(n[i],n[1-i]),a(t,e?o.x:o.y)})}var o=l.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=o;var r=this._axesList;n(),t.get("containLabel")&&(g(r,function(t){if(!t.model.get("axisLabel.inside")){var e=i(t);if(e){var n=t.isHorizontal()?"height":"width",a=t.model.get("axisLabel.margin");o[n]-=e[n]+a,"top"===t.position?o.y+=e.height+a:"left"===t.position&&(o.x+=e.width+a)}}}),n())},m.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n){if(null==e)for(var i in n)if(n.hasOwnProperty(i))return n[i];return n[e]}},m.getCartesian=function(t,e){if(null!=t&&null!=e){var n="x"+t+"y"+e;return this._coordsMap[n]}for(var i=0,o=this._coordsList;i<o.length;i++)if(o[i].getAxis("x").index===t||o[i].getAxis("y").index===e)return o[i]},m.convertToPixel=function(t,e,n){var i=this._findConvertTarget(t,e);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},m.convertFromPixel=function(t,e,n){var i=this._findConvertTarget(t,e);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},m._findConvertTarget=function(t,e){var n,i,o=e.seriesModel,a=e.xAxisModel||o&&o.getReferringComponents("xAxis")[0],r=e.yAxisModel||o&&o.getReferringComponents("yAxis")[0],s=e.gridModel,l=this._coordsList;if(o)n=o.coordinateSystem,h.indexOf(l,n)<0&&(n=null);else if(a&&r)n=this.getCartesian(a.componentIndex,r.componentIndex);else if(a)i=this.getAxis("x",a.componentIndex);else if(r)i=this.getAxis("y",r.componentIndex);else if(s){var c=s.coordinateSystem;c===this&&(n=this._coordsList[0])}return{cartesian:n,axis:i}},m.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},m._initCartesian=function(t,e,i){function o(i){return function(o,l){if(n(o,t,e)){var h=o.get("position");"x"===i?"top"!==h&&"bottom"!==h&&(h="bottom",a[h]&&(h="top"===h?"bottom":"top")):"left"!==h&&"right"!==h&&(h="left",a[h]&&(h="left"===h?"right":"left")),a[h]=!0;var u=new d(i,c.createScaleByModel(o),[0,0],o.get("type"),h),g="category"===u.type;u.onBand=g&&o.get("boundaryGap"),u.inverse=o.get("inverse"),u.onZero=o.get("axisLine.onZero"),o.axis=u,u.model=o,u.grid=this,u.index=l,this._axesList.push(u),r[i][l]=u,s[i]++}}}var a={left:!1,right:!1,top:!1,bottom:!1},r={x:{},y:{}},s={x:0,y:0};return e.eachComponent("xAxis",o("x"),this),e.eachComponent("yAxis",o("y"),this),s.x&&s.y?(this._axesMap=r,void g(r.x,function(t,e){g(r.y,function(n,i){var o="x"+e+"y"+i,a=new u(o);a.grid=this,this._coordsMap[o]=a,this._coordsList.push(a),a.addAxis(t),a.addAxis(n)},this)},this)):(this._axesMap={},void(this._axesList=[]))},m._updateScale=function(t,e){function i(t,e,n){g(n.coordDimToDataDim(e.dim),function(n){e.scale.unionExtent(t.getDataExtent(n,"ordinal"!==e.scale.type))})}h.each(this._axesList,function(t){t.scale.setExtent(1/0,-(1/0))}),t.eachSeries(function(o){if(s(o)){var a=r(o,t),l=a[0],c=a[1];if(!n(l,e,t)||!n(c,e,t))return;var h=this.getCartesian(l.componentIndex,c.componentIndex),u=o.getData(),d=h.getAxis("x"),g=h.getAxis("y");"list"===u.type&&(i(u,d,o),i(u,g,o))}},this)};var x=["xAxis","yAxis"];o.create=function(t,e){var n=[];return t.eachComponent("grid",function(i,a){var r=new o(i,t,e);r.name="grid_"+a,r.resize(i,e),i.coordinateSystem=r,n.push(r)}),t.eachSeries(function(e){if(s(e)){var n=r(e,t),i=n[0],o=n[1],a=i.findGridModel();if(__DEV__){if(!a)throw new Error('Grid "'+h.retrieve(i.get("gridIndex"),i.get("gridId"),0)+'" not found');if(i.findGridModel()!==o.findGridModel())throw new Error("xAxis and yAxis must use the same grid")}var l=a.coordinateSystem;e.coordinateSystem=l.getCartesian(i.componentIndex,o.componentIndex)}}),n},o.dimensions=u.prototype.dimensions,e(147).register("cartesian2d",o),t.exports=o},541:function(t,exports,e){var n=e(542),i=e(544);e(545),e(546);var o=e(543),a=e(128),r=e(125),s=e(129),l={};l.getScaleExtent=function(t,e){var n=t.scale,i=n.getExtent(),o=i[1]-i[0];if("ordinal"===n.type)return isFinite(o)?i:[0,0];var s=e.getMin?e.getMin():e.get("min"),l=e.getMax?e.getMax():e.get("max"),c=e.getNeedCrossZero?e.getNeedCrossZero():!e.get("scale"),h=e.get("boundaryGap");r.isArray(h)||(h=[h||0,h||0]),h[0]=a.parsePercent(h[0],1),h[1]=a.parsePercent(h[1],1);var u=!0,d=!0;return null==s&&(s=i[0]-h[0]*o,u=!1),null==l&&(l=i[1]+h[1]*o,d=!1),"dataMin"===s&&(s=i[0]),"dataMax"===l&&(l=i[1]),c&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!d&&(l=0)),[s,l]},l.niceScaleExtent=function(t,e){var n=t.scale,i=l.getScaleExtent(t,e),o=null!=(e.getMin?e.getMin():e.get("min")),a=null!=(e.getMax?e.getMax():e.get("max")),r=e.get("splitNumber");"log"===n.type&&(n.base=e.get("logBase")),n.setExtent(i[0],i[1]),n.niceExtent(r,o,a);var s=e.get("minInterval");if(isFinite(s)&&!o&&!a&&"interval"===n.type){var c=n.getInterval(),h=Math.max(Math.abs(c),s)/c;i=n.getExtent();var u=(i[1]+i[0])/2;n.setExtent(h*(i[0]-u)+u,h*(i[1]-u)+u),n.niceExtent(r)}var c=e.get("interval");null!=c&&n.setInterval&&n.setInterval(c)},l.createScaleByModel=function(t,e){if(e=e||t.get("type"))switch(e){case"category":return new n(t.getCategories(),[1/0,-(1/0)]);case"value":return new i;default:return(o.getClass(e)||i).create(t)}},l.ifAxisCrossZero=function(t){var e=t.scale.getExtent(),n=e[0],i=e[1];return!(n>0&&i>0||n<0&&i<0)},l.getAxisLabelInterval=function(t,e,n,i){var o,a=0,r=0,l=1;e.length>40&&(l=Math.floor(e.length/40));for(var c=0;c<t.length;c+=l){var h=t[c],u=s.getBoundingRect(e[c],n,"center","top");u[i?"x":"y"]+=h,u[i?"width":"height"]*=1.3,o?o.intersect(u)?(r++,a=Math.max(a,r)):(o.union(u),r=0):o=u.clone()}return 0===a&&l>1?l:(a+1)*l-1},l.getFormattedLabels=function(t,e){var n=t.scale,i=n.getTicksLabels(),o=n.getTicks();return"string"==typeof e?(e=function(t){return function(e){return t.replace("{value}",e)}}(e),r.map(i,e)):"function"==typeof e?r.map(o,function(i,o){return e("category"===t.type?n.getLabel(i):i,o)},this):i},t.exports=l},542:function(t,exports,e){var n=e(125),i=e(543),o=i.prototype,a=i.extend({type:"ordinal",init:function(t,e){this._data=t,this._extent=e||[0,t.length-1]},parse:function(t){return"string"==typeof t?n.indexOf(this._data,t):Math.round(t)},contain:function(t){return t=this.parse(t),o.contain.call(this,t)&&null!=this._data[t]},normalize:function(t){return o.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(o.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,n=e[0];n<=e[1];)t.push(n),n++;return t},getLabel:function(t){return this._data[t]},count:function(){return this._extent[1]-this._extent[0]+1},niceTicks:n.noop,niceExtent:n.noop});a.create=function(){return new a},t.exports=a},543:function(t,exports,e){function n(){this._extent=[1/0,-(1/0)],this._interval=0,this.init&&this.init.apply(this,arguments)}var i=e(134),o=n.prototype;o.parse=function(t){return t},o.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},o.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},o.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},o.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},o.getExtent=function(){return this._extent.slice()},o.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},o.getTicksLabels=function(){for(var t=[],e=this.getTicks(),n=0;n<e.length;n++)t.push(this.getLabel(e[n]));return t},i.enableClassExtend(n),i.enableClassManagement(n,{registerWhenExtend:!0}),t.exports=n},544:function(t,exports,e){var n=e(128),i=e(127),o=e(543),a=Math.floor,r=Math.ceil,s=n.getPrecisionSafe,l=n.round,c=o.extend({type:"interval",_interval:0,setExtent:function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),c.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval||this.niceTicks(),this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice()},getTicks:function(){this._interval||this.niceTicks();var t=this._interval,e=this._extent,n=[],i=1e4;if(t){var o=this._niceExtent,a=s(t)+2;e[0]<o[0]&&n.push(e[0]);for(var r=o[0];r<=o[1];)if(n.push(r),r=l(r+t,a),n.length>i)return[];e[1]>(n.length?n[n.length-1]:o[1])&&n.push(e[1])}return n},getTicksLabels:function(){for(var t=[],e=this.getTicks(),n=0;n<e.length;n++)t.push(this.getLabel(e[n]));return t},getLabel:function(t){return i.addCommas(t)},niceTicks:function(t){t=t||5;var e=this._extent,i=e[1]-e[0];if(isFinite(i)){i<0&&(i=-i,e.reverse());var o=l(n.nice(i/t,!0),Math.max(s(e[0]),s(e[1]))+2),c=s(o)+2,h=[l(r(e[0]/o)*o,c),l(a(e[1]/o)*o,c)];this._interval=o,this._niceExtent=h}},niceExtent:function(t,e,n){var i=this._extent;if(i[0]===i[1])if(0!==i[0]){var o=i[0];n?i[0]-=o/2:(i[1]+=o/2,i[0]-=o/2)}else i[1]=1;var s=i[1]-i[0];isFinite(s)||(i[0]=0,i[1]=1),this.niceTicks(t);var c=this._interval;e||(i[0]=l(a(i[0]/c)*c)),n||(i[1]=l(r(i[1]/c)*c))}});c.create=function(){return new c},t.exports=c},545:function(t,exports,e){var n=e(125),i=e(128),o=e(127),a=e(544),r=a.prototype,s=Math.ceil,l=Math.floor,c=1e3,h=60*c,u=60*h,d=24*u,g=function(t,e,n,i){for(;n<i;){var o=n+i>>>1;t[o][2]<e?n=o+1:i=o}return n},p=a.extend({type:"time",getLabel:function(t){var e=this._stepLvl,n=new Date(t);return o.formatTime(e[0],n)},niceExtent:function(t,e,n){var o=this._extent;if(o[0]===o[1]&&(o[0]-=d,o[1]+=d),o[1]===-(1/0)&&o[0]===1/0){var a=new Date;o[1]=new Date(a.getFullYear(),a.getMonth(),a.getDate()),o[0]=o[1]-d}this.niceTicks(t);var r=this._interval;e||(o[0]=i.round(l(o[0]/r)*r)),n||(o[1]=i.round(s(o[1]/r)*r))},niceTicks:function(t){t=t||10;var e=this._extent,n=e[1]-e[0],o=n/t,a=f.length,r=g(f,o,0,a),c=f[Math.min(r,a-1)],h=c[2];if("year"===c[0]){var u=n/h,d=i.nice(u/t,!0);h*=d}var p=[s(e[0]/h)*h,l(e[1]/h)*h];this._stepLvl=c,this._interval=h,this._niceExtent=p},parse:function(t){return+i.parseDate(t)}});n.each(["contain","normalize"],function(t){p.prototype[t]=function(e){return r[t].call(this,this.parse(e))}});var f=[["hh:mm:ss",1,c],["hh:mm:ss",5,5*c],["hh:mm:ss",10,10*c],["hh:mm:ss",15,15*c],["hh:mm:ss",30,30*c],["hh:mm\nMM-dd",1,h],["hh:mm\nMM-dd",5,5*h],["hh:mm\nMM-dd",10,10*h],["hh:mm\nMM-dd",15,15*h],["hh:mm\nMM-dd",30,30*h],["hh:mm\nMM-dd",1,u],["hh:mm\nMM-dd",2,2*u],["hh:mm\nMM-dd",6,6*u],["hh:mm\nMM-dd",12,12*u],["MM-dd\nyyyy",1,d],["week",7,7*d],["month",1,31*d],["quarter",3,380*d/4],["half-year",6,380*d/2],["year",1,380*d]];p.create=function(){return new p},t.exports=p},546:function(t,exports,e){function n(t,e){return h(t,c(e))}var i=e(125),o=e(543),a=e(128),r=e(544),s=o.prototype,l=r.prototype,c=a.getPrecisionSafe,h=a.round,u=Math.floor,d=Math.ceil,g=Math.pow,p=Math.log,f=o.extend({type:"log",base:10,$constructor:function(){o.apply(this,arguments),this._originalScale=new r},getTicks:function(){var t=this._originalScale,e=this._extent,o=t.getExtent();return i.map(l.getTicks.call(this),function(i){var r=a.round(g(this.base,i));return r=i===e[0]&&t.__fixMin?n(r,o[0]):r,r=i===e[1]&&t.__fixMax?n(r,o[1]):r},this)},getLabel:l.getLabel,scale:function(t){return t=s.scale.call(this,t),g(this.base,t)},setExtent:function(t,e){var n=this.base;t=p(t)/p(n),e=p(e)/p(n),l.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,e=s.getExtent.call(this);e[0]=g(t,e[0]),e[1]=g(t,e[1]);var i=this._originalScale,o=i.getExtent();return i.__fixMin&&(e[0]=n(e[0],o[0])),i.__fixMax&&(e[1]=n(e[1],o[1])),e},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=p(t[0])/p(e),t[1]=p(t[1])/p(e),s.unionExtent.call(this,t)},niceTicks:function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(n===1/0||n<=0)){var i=a.quantity(n),o=t/n*i;for(o<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var r=[a.round(d(e[0]/i)*i),a.round(u(e[1]/i)*i)];this._interval=i,this._niceExtent=r}},niceExtent:function(t,e,n){l.niceExtent.call(this,t,e,n);var i=this._originalScale;
i.__fixMin=e,i.__fixMax=n}});i.each(["contain","normalize"],function(t){f.prototype[t]=function(e){return e=p(e)/p(this.base),s[t].call(this,e)}}),f.create=function(){return new f},t.exports=f},547:function(t,exports,e){"use strict";function n(t){o.call(this,t)}var i=e(125),o=e(548);n.prototype={constructor:n,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoints:function(t,e){return t.mapArray(["x","y"],function(t,e){return this.dataToPoint([t,e])},e,this)},dataToPoint:function(t,e){var n=this.getAxis("x"),i=this.getAxis("y");return[n.toGlobalCoord(n.dataToCoord(t[0],e)),i.toGlobalCoord(i.dataToCoord(t[1],e))]},pointToData:function(t,e){var n=this.getAxis("x"),i=this.getAxis("y");return[n.coordToData(n.toLocalCoord(t[0]),e),i.coordToData(i.toLocalCoord(t[1]),e)]},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")}},i.inherits(n,o),t.exports=n},548:function(t,exports,e){"use strict";function n(t){return this._axes[t]}var i=e(125),o=function(t){this._axes={},this._dimList=[],this.name=t||""};o.prototype={constructor:o,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return i.map(this._dimList,n,this)},getAxesByScale:function(t){return t=t.toLowerCase(),i.filter(this.getAxes(),function(e){return e.scale.type===t})},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var n=this._dimList,i=t instanceof Array?[]:{},o=0;o<n.length;o++){var a=n[o],r=this._axes[a];i[a]=r[e](t[a])}return i}},t.exports=o},549:function(t,exports,e){var n=e(125),i=e(550),o=e(551),a=function(t,e,n,o,a){i.call(this,t,e,n),this.type=o||"value",this.position=a||"bottom"};a.prototype={constructor:a,index:0,onZero:!1,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),t},getLabelInterval:function(){var t=this._labelInterval;return t||(t=this._labelInterval=o(this)),t},isLabelIgnored:function(t){if("category"===this.type){var e=this.getLabelInterval();return"function"==typeof e&&!e(t,this.scale.getLabel(t))||t%(e+1)}},toLocalCoord:null,toGlobalCoord:null},n.inherits(a,i),t.exports=a},550:function(t,exports,e){function n(t,e){var n=t[1]-t[0],i=e,o=n/i/2;t[0]+=o,t[1]-=o}var i=e(128),o=i.linearMap,a=e(125),r=[0,1],s=function(t,e,n){this.dim=t,this.scale=e,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1};s.prototype={constructor:s,contain:function(t){var e=this._extent,n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=n&&t<=i},containData:function(t){return this.contain(this.dataToCoord(t))},getExtent:function(){var t=this._extent.slice();return t},getPixelPrecision:function(t){return i.getPixelPrecision(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var n=this._extent;n[0]=t,n[1]=e},dataToCoord:function(t,e){var i=this._extent,a=this.scale;return t=a.normalize(t),this.onBand&&"ordinal"===a.type&&(i=i.slice(),n(i,a.count())),o(t,r,i,e)},coordToData:function(t,e){var i=this._extent,a=this.scale;this.onBand&&"ordinal"===a.type&&(i=i.slice(),n(i,a.count()));var s=o(t,i,r,e);return this.scale.scale(s)},getTicksCoords:function(t){if(this.onBand&&!t){for(var e=this.getBands(),n=[],i=0;i<e.length;i++)n.push(e[i][0]);return e[i-1]&&n.push(e[i-1][1]),n}return a.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return a.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var t=this.getExtent(),e=[],n=this.scale.count(),i=t[0],o=t[1],a=o-i,r=0;r<n;r++)e.push([a*r/n+i,a*(r+1)/n+i]);return e},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n}},t.exports=s},551:function(t,exports,e){"use strict";var n=e(125),i=e(541);t.exports=function(t){var e=t.model,o=e.getModel("axisLabel"),a=o.get("interval");return"category"!==t.type||"auto"!==a?"auto"===a?0:a:i.getAxisLabelInterval(n.map(t.scale.getTicks(),t.dataToCoord,t),e.getFormattedLabels(),o.getModel("textStyle").getFont(),t.isHorizontal())}},552:function(t,exports,e){"use strict";e(553);var n=e(140);t.exports=n.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}})},553:function(t,exports,e){"use strict";function n(t,e){return e.type||(e.data?"category":"value")}var i=e(140),o=e(125),a=e(554),r=i.extend({type:"cartesian2dAxis",axis:null,init:function(){r.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){r.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){r.superApply(this,"restoreData",arguments),this.resetRange()},findGridModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.get("gridIndex"),id:this.get("gridId")})[0]}});o.merge(r.prototype,e(556)),o.merge(r.prototype,e(557));var s={offset:0};a("x",r,n,s),a("y",r,n,s),t.exports=r},554:function(t,exports,e){var n=e(555),i=e(125),o=e(140),a=e(142),r=["value","category","time","log"];t.exports=function(t,e,s,l){i.each(r,function(o){e.extend({type:t+"Axis."+o,mergeDefaultAndTheme:function(e,n){var r=this.layoutMode,l=r?a.getLayoutParams(e):{},c=n.getTheme();i.merge(e,c.get(o+"Axis")),i.merge(e,this.getDefaultOption()),e.type=s(t,e),r&&a.mergeLayoutParam(e,l,r)},defaultOption:i.mergeAll([{},n[o+"Axis"],l],!0)})}),o.registerSubTypeDefaulter(t+"Axis",i.curry(s,t))}},555:function(t,exports,e){var n=e(125),i={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisLine:{show:!0,onZero:!0,lineStyle:{color:"#333",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},o=n.merge({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},i),a=n.merge({boundaryGap:[0,0],splitNumber:5},i),r=n.defaults({scale:!0,min:"dataMin",max:"dataMax"},a),s=n.defaults({logBase:10},a);s.scale=!0,t.exports={categoryAxis:o,valueAxis:a,timeAxis:r,logAxis:s}},556:function(t,exports,e){function n(t){return a.isObject(t)&&null!=t.value?t.value:t}function i(){return"category"===this.get("type")&&a.map(this.get("data"),n)}function o(){return r.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))}var a=e(125),r=e(541);t.exports={getFormattedLabels:o,getCategories:i}},557:function(t,exports){t.exports={getMin:function(){var t=this.option,e=null!=t.rangeStart?t.rangeStart:t.min;return e instanceof Date&&(e=+e),e},getMax:function(){var t=this.option,e=null!=t.rangeEnd?t.rangeEnd:t.max;return e instanceof Date&&(e=+e),e},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}}},558:function(t,exports,e){"use strict";e(553),e(559)},559:function(t,exports,e){function n(t,e){function n(t,e){var n=i.getAxis(t);return n.toGlobalCoord(n.dataToCoord(0))}var i=t.coordinateSystem,o=e.axis,a={},r=o.position,s=o.onZero?"onZero":r,l=o.dim,c=i.getRect(),h=[c.x,c.x+c.width,c.y,c.y+c.height],u=e.get("offset")||0,d={x:{top:h[2]-u,bottom:h[3]+u},y:{left:h[0]-u,right:h[1]+u}};d.x.onZero=Math.max(Math.min(n("y"),d.x.bottom),d.x.top),d.y.onZero=Math.max(Math.min(n("x"),d.y.right),d.y.left),a.position=["y"===l?d.y[s]:h[0],"x"===l?d.x[s]:h[3]],a.rotation=Math.PI/2*("x"===l?0:1);var g={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=g[r],o.onZero&&(a.labelOffset=d[l][r]-d[l].onZero),e.getModel("axisTick").get("inside")&&(a.tickDirection=-a.tickDirection),e.getModel("axisLabel").get("inside")&&(a.labelDirection=-a.labelDirection);var p=e.getModel("axisLabel").get("rotate");return a.labelRotation="top"===s?-p:p,a.labelInterval=o.getLabelInterval(),a.z2=1,a}var i=e(125),o=e(164),a=e(560),r=a.ifIgnoreOnTick,s=a.getInterval,l=["axisLine","axisLabel","axisTick","axisName"],c=["splitArea","splitLine"],h=e(122).extendComponentView({type:"axis",render:function(t,e){this.group.removeAll();var r=this._axisGroup;if(this._axisGroup=new o.Group,this.group.add(this._axisGroup),t.get("show")){var s=t.findGridModel(),h=n(s,t),u=new a(t,h);i.each(l,u.add,u),this._axisGroup.add(u.getGroup()),i.each(c,function(e){t.get(e+".show")&&this["_"+e](t,s,h.labelInterval)},this),o.groupTransition(r,this._axisGroup,t)}},_splitLine:function(t,e,n){var a=t.axis,l=t.getModel("splitLine"),c=l.getModel("lineStyle"),h=c.get("color"),u=s(l,n);h=i.isArray(h)?h:[h];for(var d=e.coordinateSystem.getRect(),g=a.isHorizontal(),p=0,f=a.getTicksCoords(),m=a.scale.getTicks(),x=[],y=[],v=c.getLineStyle(),_=0;_<f.length;_++)if(!r(a,_,u)){var b=a.toGlobalCoord(f[_]);g?(x[0]=b,x[1]=d.y,y[0]=b,y[1]=d.y+d.height):(x[0]=d.x,x[1]=b,y[0]=d.x+d.width,y[1]=b);var w=p++%h.length;this._axisGroup.add(new o.Line(o.subPixelOptimizeLine({anid:"line_"+m[_],shape:{x1:x[0],y1:x[1],x2:y[0],y2:y[1]},style:i.defaults({stroke:h[w]},v),silent:!0})))}},_splitArea:function(t,e,n){var a=t.axis,l=t.getModel("splitArea"),c=l.getModel("areaStyle"),h=c.get("color"),u=e.coordinateSystem.getRect(),d=a.getTicksCoords(),g=a.scale.getTicks(),p=a.toGlobalCoord(d[0]),f=a.toGlobalCoord(d[0]),m=0,x=s(l,n),y=c.getAreaStyle();h=i.isArray(h)?h:[h];for(var v=1;v<d.length;v++)if(!r(a,v,x)){var _,b,w,S,M=a.toGlobalCoord(d[v]);a.isHorizontal()?(_=p,b=u.y,w=M-_,S=u.height):(_=u.x,b=f,w=u.width,S=M-b);var A=m++%h.length;this._axisGroup.add(new o.Rect({anid:"area_"+g[v],shape:{x:_,y:b,width:w,height:S},style:i.defaults({fill:h[A]},y),silent:!0})),p=_+w,f=b+S}}});h.extend({type:"xAxis"}),h.extend({type:"yAxis"})},560:function(t,exports,e){function n(t){var e={componentType:t.mainType};return e[t.mainType+"Index"]=t.componentIndex,e}function i(t,e,n){var i,o,a=u(e-t.rotation);return d(a)?(o=n>0?"top":"bottom",i="center"):d(a-m)?(o=n>0?"bottom":"top",i="center"):(o="middle",i=a>0&&a<m?n>0?"right":"left":n>0?"left":"right"),{rotation:a,textAlign:i,verticalAlign:o}}function o(t,e,n,i){var o,a,r=u(n-t.rotation),s=i[0]>i[1],l="start"===e&&!s||"start"!==e&&s;return d(r-m/2)?(a=l?"bottom":"top",o="center"):d(r-1.5*m)?(a=l?"top":"bottom",o="center"):(a="middle",o=r<1.5*m&&r>m/2?l?"left":"right":l?"right":"left"),{rotation:r,textAlign:o,verticalAlign:a}}function a(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)}var r=e(125),s=e(127),l=e(164),c=e(133),h=e(128),u=h.remRadian,d=h.isRadianAroundZero,g=e(131),p=g.applyTransform,f=r.retrieve,m=Math.PI,x=function(t,e){this.opt=e,this.axisModel=t,r.defaults(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new l.Group;var n=new l.Group({position:e.position.slice(),rotation:e.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n};x.prototype={constructor:x,hasBuilder:function(t){return!!y[t]},add:function(t){y[t].call(this)},getGroup:function(){return this.group}};var y={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),i=this._transform,o=[n[0],0],a=[n[1],0];i&&(p(o,o,i),p(a,a,i)),this.group.add(new l.Line(l.subPixelOptimizeLine({anid:"line",shape:{x1:o[0],y1:o[1],x2:a[0],y2:a[1]},style:r.extend({lineCap:"round"},e.getModel("axisLine.lineStyle").getLineStyle()),strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1})))}},axisTick:function(){var t=this.axisModel;if(t.get("axisTick.show"))for(var e=t.axis,n=t.getModel("axisTick"),i=this.opt,o=n.getModel("lineStyle"),a=n.get("length"),s=_(n,i.labelInterval),c=e.getTicksCoords(n.get("alignWithLabel")),h=e.scale.getTicks(),u=[],d=[],g=this._transform,f=0;f<c.length;f++)if(!v(e,f,s)){var m=c[f];u[0]=m,u[1]=0,d[0]=m,d[1]=i.tickDirection*a,g&&(p(u,u,g),p(d,d,g)),this.group.add(new l.Line(l.subPixelOptimizeLine({anid:"tick_"+h[f],shape:{x1:u[0],y1:u[1],x2:d[0],y2:d[1]},style:r.defaults(o.getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")}),z2:2,silent:!0})))}},axisLabel:function(){function t(t,e){var n=t&&t.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(n&&i)return n.applyTransform(t.getLocalTransform()),i.applyTransform(e.getLocalTransform()),n.intersect(i)}var e=this.opt,o=this.axisModel,r=f(e.axisLabelShow,o.get("axisLabel.show"));if(r){var s=o.axis,h=o.getModel("axisLabel"),u=h.getModel("textStyle"),d=h.get("margin"),g=s.scale.getTicks(),p=o.getFormattedLabels(),x=f(e.labelRotation,h.get("rotate"))||0;x=x*m/180;for(var y=i(e,x,e.labelDirection),_=o.get("data"),b=[],w=a(o),S=o.get("triggerEvent"),M=0;M<g.length;M++)if(!v(s,M,e.labelInterval)){var A=u;_&&_[M]&&_[M].textStyle&&(A=new c(_[M].textStyle,u,o.ecModel));var T=A.getTextColor()||o.get("axisLine.lineStyle.color"),I=s.dataToCoord(g[M]),C=[I,e.labelOffset+e.labelDirection*d],L=s.scale.getLabel(g[M]),P=new l.Text({anid:"label_"+g[M],style:{text:p[M],textAlign:A.get("align",!0)||y.textAlign,textVerticalAlign:A.get("baseline",!0)||y.verticalAlign,textFont:A.getFont(),fill:"function"==typeof T?T(L):T},position:C,rotation:y.rotation,silent:w,z2:10});S&&(P.eventData=n(o),P.eventData.targetType="axisLabel",P.eventData.value=L),this._dumbGroup.add(P),P.updateTransform(),b.push(P),this.group.add(P),P.decomposeTransform()}if("category"!==s.type){if(o.getMin?o.getMin():o.get("min")){var k=b[0],D=b[1];t(k,D)&&(k.ignore=!0)}if(o.getMax?o.getMax():o.get("max")){var E=b[b.length-1],O=b[b.length-2];t(O,E)&&(E.ignore=!0)}}}},axisName:function(){var t=this.opt,e=this.axisModel,c=f(t.axisName,e.get("name"));if(c){var h,u=e.get("nameLocation"),d=t.nameDirection,g=e.getModel("nameTextStyle"),p=e.get("nameGap")||0,x=this.axisModel.axis.getExtent(),y=x[0]>x[1]?-1:1,v=["start"===u?x[0]-y*p:"end"===u?x[1]+y*p:(x[0]+x[1])/2,"middle"===u?t.labelOffset+d*p:0],_=e.get("nameRotate");null!=_&&(_=_*m/180);var b;"middle"===u?h=i(t,null!=_?_:t.rotation,d):(h=o(t,u,_||0,x),b=t.axisNameAvailableWidth,null!=b&&(b=Math.abs(b/Math.sin(h.rotation)),!isFinite(b)&&(b=null)));var w=g.getFont(),S=e.get("nameTruncate",!0)||{},M=S.ellipsis,A=f(S.maxWidth,b),T=null!=M&&null!=A?s.truncateText(c,A,w,M,{minChar:2,placeholder:S.placeholder}):c,I=e.get("tooltip",!0),C=e.mainType,L={componentType:C,name:c,$vars:["name"]};L[C+"Index"]=e.componentIndex;var P=new l.Text({anid:"name",__fullText:c,__truncatedText:T,style:{text:T,textFont:w,fill:g.getTextColor()||e.get("axisLine.lineStyle.color"),textAlign:h.textAlign,textVerticalAlign:h.verticalAlign},position:v,rotation:h.rotation,silent:a(e),z2:1,tooltip:I&&I.show?r.extend({content:c,formatter:function(){return c},formatterParams:L},I):null});e.get("triggerEvent")&&(P.eventData=n(e),P.eventData.targetType="axisName",P.eventData.name=c),this._dumbGroup.add(P),P.updateTransform(),this.group.add(P),P.decomposeTransform()}}},v=x.ifIgnoreOnTick=function(t,e,n){var i,o=t.scale;return"ordinal"===o.type&&("function"==typeof n?(i=o.getTicks()[e],!n(i,o.getLabel(i))):e%(n+1))},_=x.getInterval=function(t,e){var n=t.get("interval");return null!=n&&"auto"!=n||(n=e),n};t.exports=x},561:function(t,exports,e){e(562),e(563),e(122).registerAction({type:"showTip",event:"showTip",update:"none"},function(){}),e(122).registerAction({type:"hideTip",event:"hideTip",update:"none"},function(){})},562:function(t,exports,e){e(122).extendComponentModel({type:"tooltip",defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove",alwaysShowContent:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:!0,animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",lineStyle:{color:"#555",width:1,type:"solid"},crossStyle:{color:"#555",width:1,type:"dashed",textStyle:{}},shadowStyle:{color:"rgba(150,150,150,0.3)"}},textStyle:{color:"#fff",fontSize:14}}})},563:function(t,exports,e){function n(t,e){if(!t||!e)return!1;var n=p.round;return n(t[0])===n(e[0])&&n(t[1])===n(e[1])}function i(t,e,n,i){return{x1:t,y1:e,x2:n,y2:i}}function o(t,e,n,i){return{x:t,y:e,width:n,height:i}}function a(t,e,n,i,o,a){return{cx:t,cy:e,r0:n,r:i,startAngle:o,endAngle:a,clockwise:!0}}function r(t,e,n,i,o){var a=n.clientWidth,r=n.clientHeight,s=20;return t+a+s>i?t-=a+s:t+=s,e+r+s>o?e-=r+s:e+=s,[t,e]}function s(t,e,n){var i=n.clientWidth,o=n.clientHeight,a=5,r=0,s=0,l=e.width,c=e.height;switch(t){case"inside":r=e.x+l/2-i/2,s=e.y+c/2-o/2;break;case"top":r=e.x+l/2-i/2,s=e.y-o-a;break;case"bottom":r=e.x+l/2-i/2,s=e.y+c+a;break;case"left":r=e.x-i-a,s=e.y+c/2-o/2;break;case"right":r=e.x+l+a,s=e.y+c/2-o/2}return[r,s]}function l(t,e,n,i,o,a,l){var c=l.getWidth(),h=l.getHeight(),u=a&&a.getBoundingRect().clone();if(a&&u.applyTransform(a.transform),"function"==typeof t&&(t=t([e,n],o,i.el,u)),d.isArray(t))e=m(t[0],c),n=m(t[1],h);else if("string"==typeof t&&a){var g=s(t,u,i.el);e=g[0],n=g[1]}else{var g=r(e,n,i.el,c,h);e=g[0],n=g[1]}i.moveTo(e,n)}function c(t){var e=t.coordinateSystem,n=t.get("tooltip.trigger",!0);return!(!e||"cartesian2d"!==e.type&&"polar"!==e.type&&"singleAxis"!==e.type||"item"===n)}var h=e(564),u=e(164),d=e(125),g=e(127),p=e(128),f=e(126),m=p.parsePercent,x=e(123),y=e(133);e(122).extendComponentView({type:"tooltip",_axisPointers:{},init:function(t,e){if(!x.node){var n=new h(e.getDom(),e);this._tooltipContent=n,e.on("showTip",this._manuallyShowTip,this),e.on("hideTip",this._manuallyHideTip,this)}},render:function(t,e,n){if(!x.node){this.group.removeAll(),this._axisPointers={},this._tooltipModel=t,this._ecModel=e,this._api=n,this._lastHover={};var i=this._tooltipContent;i.update(),i.enterable=t.get("enterable"),this._alwaysShowContent=t.get("alwaysShowContent"),this._seriesGroupByAxis=this._prepareAxisTriggerData(t,e);var o=this._crossText;o&&this.group.add(o);var a=t.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==a){var r=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){r._manuallyShowTip({x:r._lastX,y:r._lastY})})}var s=this._api.getZr();s.off("click",this._tryShow),s.off("mousemove",this._mousemove),s.off("mouseout",this._hide),s.off("globalout",this._hide),"click"===a?s.on("click",this._tryShow,this):"mousemove"===a&&(s.on("mousemove",this._mousemove,this),s.on("mouseout",this._hide,this),s.on("globalout",this._hide,this))}},_mousemove:function(t){var e=this._tooltipModel.get("showDelay"),n=this;clearTimeout(this._showTimeout),e>0?this._showTimeout=setTimeout(function(){n._tryShow(t)},e):this._tryShow(t)},_manuallyShowTip:function(t){if(t.from!==this.uid){var e=this._ecModel,n=t.seriesIndex,i=e.getSeriesByIndex(n),o=this._api;if(null==t.x||null==t.y){if(i||e.eachSeries(function(t){c(t)&&!i&&(i=t)}),i){var a=i.getData(),r=f.queryDataIndex(a,t);if(null==r||d.isArray(r))return;var s,l,h=a.getItemGraphicEl(r),u=i.coordinateSystem;if(i.getTooltipPosition){var g=i.getTooltipPosition(r)||[];s=g[0],l=g[1]}else if(u&&u.dataToPoint){var g=u.dataToPoint(a.getValues(d.map(u.dimensions,function(t){return i.coordDimToDataDim(t)[0]}),r,!0));s=g&&g[0],l=g&&g[1]}else if(h){var p=h.getBoundingRect().clone();p.applyTransform(h.transform),s=p.x+p.width/2,l=p.y+p.height/2}null!=s&&null!=l&&this._tryShow({offsetX:s,offsetY:l,position:t.position,target:h,event:{}})}}else{var h=o.getZr().handler.findHover(t.x,t.y);this._tryShow({offsetX:t.x,offsetY:t.y,position:t.position,target:h,event:{}})}}},_manuallyHideTip:function(t){t.from!==this.uid&&this._hide()},_prepareAxisTriggerData:function(t,e){var n={};return e.eachSeries(function(t){if(c(t)){var e,i,o=t.coordinateSystem;"cartesian2d"===o.type?(e=o.getBaseAxis(),i=e.dim+e.index):"singleAxis"===o.type?(e=o.getAxis(),i=e.dim+e.type):(e=o.getBaseAxis(),i=e.dim+o.name),n[i]=n[i]||{coordSys:[],series:[]},n[i].coordSys.push(o),n[i].series.push(t)}},this),n},_tryShow:function(t){var e=t.target,n=this._tooltipModel,i=n.get("trigger"),o=this._ecModel,a=this._api;if(n)if(this._lastX=t.offsetX,this._lastY=t.offsetY,e&&null!=e.dataIndex){var r=e.dataModel||o.getSeriesByIndex(e.seriesIndex),s=e.dataIndex,l=r.getData().getItemModel(s);"axis"===(l.get("tooltip.trigger")||i)?this._showAxisTooltip(n,o,t):(this._ticket="",this._hideAxisPointer(),this._resetLastHover(),this._showItemTooltipContent(r,s,e.dataType,t)),a.dispatchAction({type:"showTip",from:this.uid,dataIndexInside:e.dataIndex,seriesIndex:e.seriesIndex})}else if(e&&e.tooltip){var c=e.tooltip;if("string"==typeof c){var h=c;c={content:h,formatter:h}}var u=new y(c,n),d=u.get("content"),g=Math.random();this._showTooltipContent(u,d,u.get("formatterParams")||{},g,t.offsetX,t.offsetY,t.position,e,a)}else"item"===i?this._hide():this._showAxisTooltip(n,o,t),"cross"===n.get("axisPointer.type")&&a.dispatchAction({type:"showTip",from:this.uid,x:t.offsetX,y:t.offsetY})},_showAxisTooltip:function(t,e,i){var o=t.getModel("axisPointer"),a=o.get("type");if("cross"===a){var r=i.target;if(r&&null!=r.dataIndex){var s=e.getSeriesByIndex(r.seriesIndex),l=r.dataIndex;this._showItemTooltipContent(s,l,r.dataType,i)}}this._showAxisPointer();var c=!0;d.each(this._seriesGroupByAxis,function(t){var e=t.coordSys,r=e[0],s=[i.offsetX,i.offsetY];if(!r.containPoint(s))return void this._hideAxisPointer(r.name);c=!1;var l=r.dimensions,h=r.pointToData(s,!0);s=r.dataToPoint(h);var u=r.getBaseAxis(),g=o.get("axis");"auto"===g&&(g=u.dim);var p=!1,f=this._lastHover;if("cross"===a)n(f.data,h)&&(p=!0),f.data=h;else{var m=d.indexOf(l,g);f.data===h[m]&&(p=!0),f.data=h[m]}"cartesian2d"!==r.type||p?"polar"!==r.type||p?"singleAxis"!==r.type||p||this._showSinglePointer(o,r,g,s):this._showPolarPointer(o,r,g,s):this._showCartesianPointer(o,r,g,s),"cross"!==a&&this._dispatchAndShowSeriesTooltipContent(r,t.series,s,h,p,i.position)},this),this._tooltipModel.get("show")||this._hideAxisPointer(),c&&this._hide()},_showCartesianPointer:function(t,e,n,a){function r(n,o,a){var r="x"===n?i(o[0],a[0],o[0],a[1]):i(a[0],o[1],a[1],o[1]),s=l._getPointerElement(e,t,n,r);u.subPixelOptimizeLine({shape:r,style:s.style}),d?u.updateProps(s,{shape:r},t):s.attr({shape:r})}function s(n,i,a){var r=e.getAxis(n),s=r.getBandWidth(),c=a[1]-a[0],h="x"===n?o(i[0]-s/2,a[0],s,c):o(a[0],i[1]-s/2,c,s),g=l._getPointerElement(e,t,n,h);d?u.updateProps(g,{shape:h},t):g.attr({shape:h})}var l=this,c=t.get("type"),h=e.getBaseAxis(),d="cross"!==c&&"category"===h.type&&h.getBandWidth()>20;if("cross"===c)r("x",a,e.getAxis("y").getGlobalExtent()),r("y",a,e.getAxis("x").getGlobalExtent()),this._updateCrossText(e,a,t);else{var g=e.getAxis("x"===n?"y":"x"),p=g.getGlobalExtent();"cartesian2d"===e.type&&("line"===c?r:s)(n,a,p)}},_showSinglePointer:function(t,e,n,o){function a(n,o,a){var s=e.getAxis(),c=s.orient,h="horizontal"===c?i(o[0],a[0],o[0],a[1]):i(a[0],o[1],a[1],o[1]),d=r._getPointerElement(e,t,n,h);l?u.updateProps(d,{shape:h},t):d.attr({shape:h})}var r=this,s=t.get("type"),l="cross"!==s&&"category"===e.getBaseAxis().type,c=e.getRect(),h=[c.y,c.y+c.height];a(n,o,h)},_showPolarPointer:function(t,e,n,o){function r(n,o,a){var r,s=e.pointToCoord(o);if("angle"===n){var c=e.coordToPoint([a[0],s[1]]),h=e.coordToPoint([a[1],s[1]]);r=i(c[0],c[1],h[0],h[1])}else r={cx:e.cx,cy:e.cy,r:s[0]};var d=l._getPointerElement(e,t,n,r);g?u.updateProps(d,{shape:r},t):d.attr({shape:r})}function s(n,i,o){var r,s=e.getAxis(n),c=s.getBandWidth(),h=e.pointToCoord(i),d=Math.PI/180;r="angle"===n?a(e.cx,e.cy,o[0],o[1],(-h[1]-c/2)*d,(-h[1]+c/2)*d):a(e.cx,e.cy,h[0]-c/2,h[0]+c/2,0,2*Math.PI);var p=l._getPointerElement(e,t,n,r);g?u.updateProps(p,{shape:r},t):p.attr({shape:r})}var l=this,c=t.get("type"),h=e.getAngleAxis(),d=e.getRadiusAxis(),g="cross"!==c&&"category"===e.getBaseAxis().type;if("cross"===c)r("angle",o,d.getExtent()),r("radius",o,h.getExtent()),this._updateCrossText(e,o,t);else{var p=e.getAxis("radius"===n?"angle":"radius"),f=p.getExtent();("line"===c?r:s)(n,o,f)}},_updateCrossText:function(t,e,n){var i=n.getModel("crossStyle"),o=i.getModel("textStyle"),a=this._tooltipModel,r=this._crossText;r||(r=this._crossText=new u.Text({style:{textAlign:"left",textVerticalAlign:"bottom"}}),this.group.add(r));var s=t.pointToData(e),l=t.dimensions;s=d.map(s,function(e,n){var i=t.getAxis(l[n]);return e="category"===i.type||"time"===i.type?i.scale.getLabel(e):g.addCommas(e.toFixed(i.getPixelPrecision()))}),r.setStyle({fill:o.getTextColor()||i.get("color"),textFont:o.getFont(),text:s.join(", "),x:e[0]+5,y:e[1]-5}),r.z=a.get("z"),r.zlevel=a.get("zlevel")},_getPointerElement:function(t,e,n,i){var o=this._tooltipModel,a=o.get("z"),r=o.get("zlevel"),s=this._axisPointers,l=t.name;if(s[l]=s[l]||{},s[l][n])return s[l][n];var c=e.get("type"),h=e.getModel(c+"Style"),d="shadow"===c,g=h[d?"getAreaStyle":"getLineStyle"](),p="polar"===t.type?d?"Sector":"radius"===n?"Circle":"Line":d?"Rect":"Line";d?g.stroke=null:g.fill=null;var f=s[l][n]=new u[p]({style:g,z:a,zlevel:r,silent:!0,shape:i});return this.group.add(f),f},_dispatchAndShowSeriesTooltipContent:function(t,e,n,i,o,a){var r=this._tooltipModel,s=t.getBaseAxis(),c="x"===s.dim||"radius"===s.dim?0:1,h=d.map(e,function(t){return{seriesIndex:t.seriesIndex,dataIndexInside:t.getAxisTooltipDataIndex?t.getAxisTooltipDataIndex(t.coordDimToDataDim(s.dim),i,s):t.getData().indexOfNearest(t.coordDimToDataDim(s.dim)[0],i[c],!1,"category"===s.type?.5:null)}}),u=this._lastHover,g=this._api;if(u.payloadBatch&&!o&&g.dispatchAction({type:"downplay",batch:u.payloadBatch}),o||(g.dispatchAction({type:"highlight",batch:h}),u.payloadBatch=h),g.dispatchAction({type:"showTip",dataIndexInside:h[0].dataIndexInside,seriesIndex:h[0].seriesIndex,from:this.uid}),s&&r.get("showContent")&&r.get("show")){var p=d.map(e,function(t,e){return t.getDataParams(h[e].dataIndexInside)});if(o)l(a||r.get("position"),n[0],n[1],this._tooltipContent,p,null,g);else{var f=h[0].dataIndexInside,m="time"===s.type?s.scale.getLabel(i[c]):e[0].getData().getName(f),x=(m?m+"<br />":"")+d.map(e,function(t,e){return t.formatTooltip(h[e].dataIndexInside,!0)}).join("<br />"),y="axis_"+t.name+"_"+f;this._showTooltipContent(r,x,p,y,n[0],n[1],a,null,g)}}},_showItemTooltipContent:function(t,e,n,i){var o=this._api,a=t.getData(n),r=a.getItemModel(e),s=r.get("tooltip",!0);if("string"==typeof s){var l=s;s={formatter:l}}var c=this._tooltipModel,h=t.getModel("tooltip",c),u=new y(s,h,h.ecModel),d=t.getDataParams(e,n),g=t.formatTooltip(e,!1,n),p="item_"+t.name+"_"+e;this._showTooltipContent(u,g,d,p,i.offsetX,i.offsetY,i.position,i.target,o)},_showTooltipContent:function(t,e,n,i,o,a,r,s,c){if(this._ticket="",t.get("showContent")&&t.get("show")){var h=this._tooltipContent,u=t.get("formatter");r=r||t.get("position");var d=e;if(u)if("string"==typeof u)d=g.formatTpl(u,n);else if("function"==typeof u){var p=this,f=i,m=function(t,e){t===p._ticket&&(h.setContent(e),l(r,o,a,h,n,s,c))};p._ticket=f,d=u(n,f,m)}h.show(t),h.setContent(d),l(r,o,a,h,n,s,c)}},_showAxisPointer:function(t){if(t){var e=this._axisPointers[t];e&&d.each(e,function(t){t.show()})}else this.group.eachChild(function(t){t.show()}),this.group.show()},_resetLastHover:function(){var t=this._lastHover;t.payloadBatch&&this._api.dispatchAction({type:"downplay",batch:t.payloadBatch}),this._lastHover={}},_hideAxisPointer:function(t){if(t){var e=this._axisPointers[t];e&&d.each(e,function(t){t.hide()})}else this.group.children().length&&this.group.hide()},_hide:function(){clearTimeout(this._showTimeout),this._hideAxisPointer(),this._resetLastHover(),this._alwaysShowContent||this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._api.dispatchAction({type:"hideTip",from:this.uid}),this._lastX=this._lastY=null},dispose:function(t,e){if(!x.node){var n=e.getZr();this._tooltipContent.hide(),n.off("click",this._tryShow),n.off("mousemove",this._mousemove),n.off("mouseout",this._hide),n.off("globalout",this._hide),e.off("showTip",this._manuallyShowTip),e.off("hideTip",this._manuallyHideTip)}}})},564:function(t,exports,e){function n(t){var e="cubic-bezier(0.23, 1, 0.32, 1)",n="left "+t+"s "+e+",top "+t+"s "+e;return s.map(p,function(t){return t+"transition:"+n}).join(";")}function i(t){var e=[],n=t.get("fontSize"),i=t.getTextColor();return i&&e.push("color:"+i),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(3*n/2)+"px"),u(["decoration","align"],function(n){var i=t.get(n);i&&e.push("text-"+n+":"+i)}),e.join(";")}function o(t){t=t;var e=[],o=t.get("transitionDuration"),a=t.get("backgroundColor"),r=t.getModel("textStyle"),s=t.get("padding");return o&&e.push(n(o)),a&&(g.canvasSupported?e.push("background-Color:"+a):(e.push("background-Color:#"+l.toHex(a)),e.push("filter:alpha(opacity=70)"))),u(["width","color","radius"],function(n){var i="border-"+n,o=d(i),a=t.get(o);null!=a&&e.push(i+":"+a+("color"===n?"":"px"))}),e.push(i(r)),null!=s&&e.push("padding:"+h.normalizeCssArray(s).join("px ")+"px"),e.join(";")+";"}function a(t,e){var n=document.createElement("div"),i=e.getZr();this.el=n,this._x=e.getWidth()/2,this._y=e.getHeight()/2,t.appendChild(n),this._container=t,this._show=!1,this._hideTimeout;var o=this;n.onmouseenter=function(){o.enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},n.onmousemove=function(e){if(e=e||window.event,!o.enterable){var n=i.handler;c.normalizeEvent(t,e,!0),n.dispatch("mousemove",e)}},n.onmouseleave=function(){o.enterable&&o._show&&o.hideLater(o._hideDelay),o._inContent=!1},r(n,t)}function r(t,e){function n(t){i(t.target)||t.preventDefault()}function i(n){for(;n&&n!==e;){if(n===t)return!0;n=n.parentNode}}c.addEventListener(e,"touchstart",n),c.addEventListener(e,"touchmove",n),c.addEventListener(e,"touchend",n)}var s=e(125),l=e(160),c=e(208),h=e(127),u=s.each,d=h.toCamelCase,g=e(123),p=["","-webkit-","-moz-","-o-"],f="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";a.prototype={constructor:a,enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),n=t.style;"absolute"!==n.position&&"absolute"!==e.position&&(n.position="relative")},show:function(t){clearTimeout(this._hideTimeout);var e=this.el;e.style.cssText=f+o(t)+";left:"+this._x+"px;top:"+this._y+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",this._show=!0},setContent:function(t){var e=this.el;e.innerHTML=t,e.style.display=t?"block":"none"},moveTo:function(t,e){var n=this.el.style;n.left=t+"px",n.top=e+"px",this._x=t,this._y=e},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this.enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(s.bind(this.hide,this),t)):this.hide())},isShow:function(){return this._show}},t.exports=a},565:function(t,exports,e){"use strict";var n=e(122),i=e(164),o=e(142);n.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,
padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),n.extendComponentView({type:"title",render:function(t,e,n){if(this.group.removeAll(),t.get("show")){var a=this.group,r=t.getModel("textStyle"),s=t.getModel("subtextStyle"),l=t.get("textAlign"),c=t.get("textBaseline"),h=new i.Text({style:{text:t.get("text"),textFont:r.getFont(),fill:r.getTextColor()},z2:10}),u=h.getBoundingRect(),d=t.get("subtext"),g=new i.Text({style:{text:d,textFont:s.getFont(),fill:s.getTextColor(),y:u.height+t.get("itemGap"),textBaseline:"top"},z2:10}),p=t.get("link"),f=t.get("sublink");h.silent=!p,g.silent=!f,p&&h.on("click",function(){window.open(p,"_"+t.get("target"))}),f&&g.on("click",function(){window.open(f,"_"+t.get("subtarget"))}),a.add(h),d&&a.add(g);var m=a.getBoundingRect(),x=t.getBoxLayoutParams();x.width=m.width,x.height=m.height;var y=o.getLayoutRect(x,{width:n.getWidth(),height:n.getHeight()},t.get("padding"));l||(l=t.get("left")||t.get("right"),"middle"===l&&(l="center"),"right"===l?y.x+=y.width:"center"===l&&(y.x+=y.width/2)),c||(c=t.get("top")||t.get("bottom"),"center"===c&&(c="middle"),"bottom"===c?y.y+=y.height:"middle"===c&&(y.y+=y.height/2),c=c||"top"),a.attr("position",[y.x,y.y]);var v={textAlign:l,textVerticalAlign:c};h.setStyle(v),g.setStyle(v),m=a.getBoundingRect();var _=y.margin,b=t.getItemStyle(["color","opacity"]);b.fill=t.get("backgroundColor");var w=new i.Rect({shape:{x:m.x-_[3],y:m.y-_[0],width:m.width+_[1]+_[3],height:m.height+_[0]+_[2]},style:b,silent:!0});i.subPixelOptimizeRect(w),a.add(w)}}})},566:function(t,exports,e){e(567),e(568),e(569);var n=e(122);n.registerProcessor(e(571))},567:function(t,exports,e){"use strict";var n=e(125),i=e(133),o=e(122).extendComponentModel({type:"legend",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{}},mergeOption:function(t){o.superCall(this,"mergeOption",t)},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,n=0;n<t.length;n++){var i=t[n].get("name");if(this.isSelected(i)){this.select(i),e=!0;break}}!e&&this.select(t[0].get("name"))}},_updateData:function(t){var e=n.map(this.get("data")||[],function(t){return"string"!=typeof t&&"number"!=typeof t||(t={name:t}),new i(t,this,this.ecModel)},this);this._data=e;var o=n.map(t.getSeries(),function(t){return t.name});t.eachSeries(function(t){if(t.legendDataProvider){var e=t.legendDataProvider();o=o.concat(e.mapArray(e.getName))}}),this._availableNames=o},getData:function(){return this._data},select:function(t){var e=this.option.selected,i=this.get("selectedMode");if("single"===i){var o=this._data;n.each(o,function(t){e[t.get("name")]=!1})}e[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},isSelected:function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&n.indexOf(this._availableNames,t)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:"top",align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});t.exports=o},568:function(t,exports,e){function n(t,e,n){var i,a={},r="toggleSelected"===t;return n.eachComponent("legend",function(n){r&&null!=i?n[i?"select":"unSelect"](e.name):(n[t](e.name),i=n.isSelected(e.name));var s=n.getData();o.each(s,function(t){var e=t.get("name");if("\n"!==e&&""!==e){var i=n.isSelected(e);e in a?a[e]=a[e]&&i:a[e]=i}})}),{name:e.name,selected:a}}var i=e(122),o=e(125);i.registerAction("legendToggleSelect","legendselectchanged",o.curry(n,"toggleSelected")),i.registerAction("legendSelect","legendselected",o.curry(n,"select")),i.registerAction("legendUnSelect","legendunselected",o.curry(n,"unSelect"))},569:function(t,exports,e){function n(t,e){e.dispatchAction({type:"legendToggleSelect",name:t})}function i(t,e,n){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||t.get("legendHoverLink")&&n.dispatchAction({type:"highlight",seriesName:t.name,name:e})}function o(t,e,n){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||t.get("legendHoverLink")&&n.dispatchAction({type:"downplay",seriesName:t.name,name:e})}var a=e(125),r=e(533),s=e(164),l=e(570),c=a.curry;t.exports=e(122).extendComponentView({type:"legend",init:function(){this._symbolTypeStore={}},render:function(t,e,r){var h=this.group;if(h.removeAll(),t.get("show")){var u=t.get("selectedMode"),d=t.get("align");"auto"===d&&(d="right"===t.get("left")&&"vertical"===t.get("orient")?"right":"left");var g={};a.each(t.getData(),function(a){var l=a.get("name");if(""===l||"\n"===l)return void h.add(new s.Group({newline:!0}));var p=e.getSeriesByName(l)[0];if(!g[l]){if(p){var f=p.getData(),m=f.getVisual("color");"function"==typeof m&&(m=m(p.getDataParams(0)));var x=f.getVisual("legendSymbol")||"roundRect",y=f.getVisual("symbol"),v=this._createItem(l,a,t,x,y,d,m,u);v.on("click",c(n,l,r)).on("mouseover",c(i,p,null,r)).on("mouseout",c(o,p,null,r)),g[l]=!0}else e.eachRawSeries(function(e){if(!g[l]&&e.legendDataProvider){var s=e.legendDataProvider(),h=s.indexOfName(l);if(h<0)return;var p=s.getItemVisual(h,"color"),f="roundRect",m=this._createItem(l,a,t,f,null,d,p,u);m.on("click",c(n,l,r)).on("mouseover",c(i,e,l,r)).on("mouseout",c(o,e,l,r)),g[l]=!0}},this);__DEV__&&(g[l]||console.warn(l+" series not exists. Legend data should be same with series name or data name."))}},this),l.layout(h,t,r),l.addBackground(h,t)}},_createItem:function(t,e,n,i,o,l,c,h){var u=n.get("itemWidth"),d=n.get("itemHeight"),g=n.get("inactiveColor"),p=n.isSelected(t),f=new s.Group,m=e.getModel("textStyle"),x=e.get("icon"),y=e.getModel("tooltip"),v=y.parentModel;if(i=x||i,f.add(r.createSymbol(i,0,0,u,d,p?c:g)),!x&&o&&(o!==i||"none"==o)){var _=.8*d;"none"===o&&(o="circle"),f.add(r.createSymbol(o,(u-_)/2,(d-_)/2,_,_,p?c:g))}var b="left"===l?u+5:-5,w=l,S=n.get("formatter"),M=t;"string"==typeof S&&S?M=S.replace("{name}",t):"function"==typeof S&&(M=S(t));var A=new s.Text({style:{text:M,x:b,y:d/2,fill:p?m.getTextColor():g,textFont:m.getFont(),textAlign:w,textVerticalAlign:"middle"}});f.add(A);var T=new s.Rect({shape:f.getBoundingRect(),invisible:!0,tooltip:y.get("show")?a.extend({content:t,formatter:v.get("formatter",!0)||function(){return t},formatterParams:{componentType:"legend",legendIndex:n.componentIndex,name:t,$vars:["name"]}},y.option):null});return f.add(T),f.eachChild(function(t){t.silent=!0}),T.silent=!h,this.group.add(f),s.setHoverStyle(f),f}})},570:function(t,exports,e){function n(t,e,n){i.positionGroup(t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()},e.get("padding"))}var i=e(142),o=e(127),a=e(164);t.exports={layout:function(t,e,o){var a=i.getLayoutRect(e.getBoxLayoutParams(),{width:o.getWidth(),height:o.getHeight()},e.get("padding"));i.box(e.get("orient"),t,e.get("itemGap"),a.width,a.height),n(t,e,o)},addBackground:function(t,e){var n=o.normalizeCssArray(e.get("padding")),i=t.getBoundingRect(),r=e.getItemStyle(["color","opacity"]);r.fill=e.get("backgroundColor");var s=new a.Rect({shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[1]+n[3],height:i.height+n[0]+n[2]},style:r,silent:!0,z2:-1});a.subPixelOptimizeRect(s),t.add(s)}}},571:function(t,exports){t.exports=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0})}},572:function(t,exports,e){var n=e(573);"string"==typeof n&&(n=[[t.id,n,""]]);e(100)(n,{});n.locals&&(t.exports=n.locals)},573:function(t,exports,e){exports=t.exports=e(94)(),exports.push([t.id,".echarts-container{float:none;height:150px}.echarts{width:100%;height:100%;display:block}",""])}});
//# sourceMappingURL=chart.min.js.map